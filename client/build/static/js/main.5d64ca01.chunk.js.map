{"version":3,"sources":["backend.js","auth/helper/index.js","core/Menu.js","core/Base.js","admin/helper/cartHelper.js","core/helper/ImageHelper.js","core/Card.js","core/Home.js","core/helper/coreapicalls.js","user/Signup.js","user/Signin.js","auth/helper/AdminRoutes.js","auth/helper/PrivateRoutes.js","user/UserDashBoard.js","user/AdminDashBoard.js","admin/helper/adminapicall.js","admin/AddCategory.js","admin/ManageCategories.js","admin/AddProduct.js","admin/ManageProducts.js","admin/UpdateProduct.js","admin/UpdateCategory.js","core/StripeCheckout.js","core/PaymentBCheckout.js","admin/helper/paymentBHelper.js","admin/helper/orderHelper.js","core/Cart.js","Routes.js","index.js"],"names":["API","process","isAutheticated","window","localStorage","getItem","JSON","parse","currentTab","history","path","location","pathname","color","withRouter","className","style","to","user","role","onClick","next","removeItem","fetch","method","then","response","console","log","catch","err","signout","push","Base","title","description","children","cartEmpty","undefined","setItem","stringify","ImageHelper","product","imageURL","_id","src","alt","maxHeight","maxWidth","Card","addToCart","removeFromCart","setReload","f","reload","useState","getRedirect","setGetRedirect","count","cardTitle","name","cardDescription","cardPrice","price","addItemToCart","item","cart","addProductToCart","redirect","getARedirect","showAddToCart","productId","map","i","splice","removeItemFromCart","showRemoveFromCart","Home","products","setProducts","setError","loadAllProducts","json","data","error","useEffect","index","key","Signup","email","password","success","values","setValues","handleChange","event","target","value","onSubmit","preventDefault","headers","Accept","body","display","onChange","type","Signin","loading","didRedirect","signin","authenticate","AdminRoute","Component","component","rest","render","props","state","from","PrivateRoute","UserDashBoard","AdminDashBoard","getCategories","AddCategory","setName","setSuccess","token","userId","category","Authorization","createCategory","successMessage","warningMessage","autoFocus","required","placeholder","ManageCategories","categories","setCategories","preload","deleteThisCategory","categoryId","deleteCategory","AddProduct","stock","photo","createdProduct","getaRedirect","formData","FormData","createaProduct","files","set","accept","cate","ManageProducts","deleteThisProduct","deleteProduct","UpdateProduct","match","getProduct","preloadCategories","params","updateProduct","UpdateCategory","preLoad","getCategory","updateCategory","StripeCheckout","address","getFinalPrice","amount","p","makePayment","status","length","stripeKey","billingAddress","shippingAddress","PaymentBCheckout","clientToken","instance","info","setInfo","getMeToken","res","getToken","onPurchase","requestPaymentMethod","paymentData","paymentMethodNonce","nonce","getAmount","paymentInfo","processPayment","orderData","transaction_id","transaction","id","order","createOrder","options","authorization","onInstance","Cart","loadCart","Routes","exact","ReactDOM","document","getElementById"],"mappings":"uNAAaA,G,MAAMC,qCCoDNC,EAAiB,WAC5B,MAAqB,oBAAVC,WAGPC,aAAaC,QAAQ,QAChBC,KAAKC,MAAMH,aAAaC,QAAQ,UCrDrCG,EAAa,SAACC,EAASC,GAC3B,OAAID,EAAQE,SAASC,WAAaF,EACzB,CAAEG,MAAO,WAET,CAAEA,MAAO,YAmFLC,eA/EF,SAAC,GAAD,IAAGL,EAAH,EAAGA,QAAH,OACX,6BACE,wBAAIM,UAAU,wBACZ,wBAAIA,UAAU,YACZ,kBAAC,IAAD,CAAMC,MAAOR,EAAWC,EAAS,KAAMM,UAAU,WAAWE,GAAG,KAA/D,SAIF,wBAAIF,UAAU,YACZ,kBAAC,IAAD,CACEC,MAAOR,EAAWC,EAAS,SAC3BM,UAAU,WACVE,GAAG,SAHL,SAQDf,KAAmD,IAA/BA,IAAiBgB,KAAKC,MACzC,wBAAIJ,UAAU,YACZ,kBAAC,IAAD,CACEC,MAAOR,EAAWC,EAAS,mBAC3BM,UAAU,WACVE,GAAG,mBAHL,iBASHf,KAAmD,IAA/BA,IAAiBgB,KAAKC,MACzC,wBAAIJ,UAAU,YACZ,kBAAC,IAAD,CACEC,MAAOR,EAAWC,EAAS,oBAC3BM,UAAU,WACVE,GAAG,oBAHL,kBASFf,KACA,kBAAC,WAAD,KACE,wBAAIa,UAAU,YACZ,kBAAC,IAAD,CACEC,MAAOR,EAAWC,EAAS,WAC3BM,UAAU,WACVE,GAAG,WAHL,WAQF,wBAAIF,UAAU,YACZ,kBAAC,IAAD,CACEC,MAAOR,EAAWC,EAAS,WAC3BM,UAAU,WACVE,GAAG,WAHL,aAULf,KACC,wBAAIa,UAAU,YACZ,0BACEA,UAAU,wBACVK,QAAS,YDtCE,SAAAC,GACrB,GAAsB,qBAAXlB,OACTC,aAAakB,WAAW,OACxBD,IAEOE,MAAM,GAAD,OAAIvB,EAAJ,YAAmB,CAC7BwB,OAAQ,QAEPC,MAAK,SAAAC,GAAQ,OAAIC,QAAQC,IAAI,sBAC7BC,OAAM,SAAAC,GAAG,OAAIH,QAAQC,IAAIE,MC8BlBC,EAAQ,WACNtB,EAAQuB,KAAK,UAJnB,iBC3CKC,EA7BF,SAAC,GAAD,QACXC,aADW,MACH,WADG,MAEXC,mBAFW,MAEG,gBAFH,MAGXpB,iBAHW,MAGC,yBAHD,EAIXqB,EAJW,EAIXA,SAJW,OAMX,6BACE,kBAAC,EAAD,MACA,yBAAKrB,UAAU,mBACb,yBAAKA,UAAU,4CACb,wBAAIA,UAAU,aAAamB,GAC3B,uBAAGnB,UAAU,QAAQoB,IAEvB,yBAAKpB,UAAWA,GAAYqB,IAE9B,4BAAQrB,UAAU,+BAChB,yBAAKA,UAAU,0DACb,iFACA,4BAAQA,UAAU,0BAAlB,eAEF,yBAAKA,UAAU,aACb,0BAAMA,UAAU,cAAhB,cACa,0BAAMA,UAAU,cAAhB,QADb,iB,OCYKsB,EAAY,SAAAhB,GACrB,QAAsBiB,WAAXnC,OAAsB,CAC7BC,aAAakB,WAAW,QAExBlB,aAAamC,QAAQ,OAAQjC,KAAKkC,UADvB,KAEXnB,MCxBOoB,MAdf,YAAmC,IAAZC,EAAW,EAAXA,QACbC,EAAWD,EAAO,UAAM1C,EAAN,0BAA2B0C,EAAQE,KAAQ,iHACnE,OACI,yBAAK7B,UAAU,qCACX,yBACI8B,IAAKF,EACLG,IAAI,QACJ9B,MAAO,CAAE+B,UAAW,OAAQC,SAAU,QACtCjC,UAAU,mBC4DXkC,EAlEF,SAAC,GAAmG,IAAjGP,EAAgG,EAAhGA,QAAgG,IAAvFQ,iBAAuF,aAArEC,sBAAqE,aAA7CC,iBAA6C,MAAjC,SAAAC,GAAC,OAAIA,GAA4B,MAAzBC,cAAyB,WAAhBhB,EAAgB,IAEtEiB,oBAAS,GAF6D,mBAErGC,EAFqG,KAExFC,EAFwF,OAGlFF,mBAASb,EAAQgB,OAHiE,mBAKtGC,GALsG,UAK1FjB,EAAUA,EAAQkB,KAAO,sBACrCC,EAAkBnB,EAAUA,EAAQP,YAAc,sBAClD2B,EAAYpB,EAAUA,EAAQqB,MAAQ,gBAEtCC,EAAgB,YFdM,SAACC,EAAM5C,GACnC,IAAI6C,EAAO,QACW5B,WAAXnC,SACHC,aAAaC,QAAQ,UACrB6D,EAAO5D,KAAKC,MAAMH,aAAaC,QAAQ,UAE3C6D,EAAKlC,KAAL,eAAeiC,EAAf,CAAqBP,MAAO,KAC5BtD,aAAamC,QAAQ,OAAQjC,KAAKkC,UAAU0B,IAC5C7C,KEOA8C,CAAiBzB,GAAS,kBAAMe,GAAe,OAiCnD,OACI,yBAAK1C,UAAU,+CA/BE,SAACqD,GAClB,GAAIA,EACA,OAAO,kBAAC,IAAD,CAAUnD,GAAG,UA8BnBoD,CAAab,GACd,yBAAKzC,UAAU,oBAAoB4C,GACnC,yBAAK5C,UAAU,aACX,kBAAC,EAAD,CAAa2B,QAASA,IACtB,uBAAG3B,UAAU,gDACR8C,GAEL,uBAAG9C,UAAU,wCAAb,KAAuD+C,GACvD,yBAAK/C,UAAU,OACX,yBAAKA,UAAU,UAnCT,SAACmC,GACnB,OACIA,GACI,4BAAQ9B,QAAS4C,EAAejD,UAAU,+CAA1C,eAiCSuD,CAAcpB,IAEnB,yBAAKnC,UAAU,UA5BJ,SAACoC,GACxB,OACIA,GACI,4BAAQ/B,QAAS,YFjBC,SAACmD,GAC/B,IAAIL,EAAO,QACW5B,WAAXnC,QACHC,aAAaC,QAAQ,UACrB6D,EAAO5D,KAAKC,MAAMH,aAAaC,QAAQ,UAG/C6D,EAAKM,KAAI,SAAC9B,EAAS+B,GACX/B,EAAQE,MAAQ2B,GAChBL,EAAKQ,OAAOD,EAAG,GAEnBrE,aAAamC,QAAQ,OAAQjC,KAAKkC,UAAU0B,OEOhCS,CAAmBjC,EAAQE,KAC3BQ,GAAWE,IAEbvC,UAAU,8CAJZ,oBA0BS6D,CAAmBzB,QCxD7B,SAAS0B,IAAQ,IAAD,EAEGtB,mBAAS,IAFZ,mBAEtBuB,EAFsB,KAEZC,EAFY,OAGHxB,oBAAS,GAHN,mBAGfyB,GAHe,WAKvBC,EAAkB,WCRf1D,MAAM,GAAD,OAAIvB,EAAJ,aAAoB,CAC9BwB,OAAQ,QAEPC,MAAK,SAAAC,GACJ,OAAOA,EAASwD,UAEjBrD,OAAM,SAAAC,GAAG,OAAIH,QAAQC,IAAIE,MDGdL,MAAK,SAAA0D,GACbA,EAAKC,MACPJ,EAASG,EAAKC,OAEdL,EAAYI,OAUlB,OALAE,qBAAU,WACRJ,MACC,IAID,kBAAC,EAAD,CAAM/C,MAAM,YAAYC,YAAY,+BAClC,yBAAKpB,UAAU,mBACb,wBAAIA,UAAU,cAAd,kBACA,yBAAKA,UAAU,OACZ+D,EAASN,KAAI,SAAC9B,EAAS4C,GACtB,OACE,yBAAKC,IAAKD,EAAOvE,UAAU,cACzB,kBAAC,EAAD,CAAO2B,QAASA,W,WEyFjB8C,EAvHA,WAAO,IAAD,EACSjC,mBAAS,CACnCK,KAAM,GACN6B,MAAO,GACPC,SAAU,GACVN,MAAO,GACPO,SAAS,IANQ,mBACZC,EADY,KACJC,EADI,KASXjC,EAA0CgC,EAA1ChC,KAAM6B,EAAoCG,EAApCH,MAAOC,EAA6BE,EAA7BF,SAAUN,EAAmBQ,EAAnBR,MAAOO,EAAYC,EAAZD,QAEhCG,EAAe,SAAAlC,GAAI,OAAI,SAAAmC,GAC3BF,EAAU,eAAKD,EAAN,aAAcR,OAAO,GAAQxB,EAAOmC,EAAMC,OAAOC,WAGtDC,EAAW,SAAAH,GRlBG,IAAA7E,EQmBlB6E,EAAMI,iBACNN,EAAU,eAAKD,EAAN,CAAcR,OAAO,MRpBZlE,EQqBX,CAAE0C,OAAM6B,QAAOC,YRpBjBnE,MAAM,GAAD,OAAIvB,EAAJ,WAAkB,CAC5BwB,OAAQ,OACR4E,QAAS,CACPC,OAAQ,mBACR,eAAgB,oBAElBC,KAAMhG,KAAKkC,UAAUtB,KAEpBO,MAAK,SAAAC,GACJ,OAAOA,EAASwD,UAEjBrD,OAAM,SAAAC,GAAG,OAAIH,QAAQC,IAAIE,OQUvBL,MAAK,SAAA0D,GACAA,EAAKC,MACPS,EAAU,eAAKD,EAAN,CAAcR,MAAOD,EAAKC,MAAOO,SAAS,KAEnDE,EAAU,eACLD,EADI,CAEPhC,KAAM,GACN6B,MAAO,GACPC,SAAU,GACVN,MAAO,GACPO,SAAS,QAId9D,MAAMF,QAAQC,IAAI,qBA4EvB,OACE,kBAAC,EAAD,CAAMM,MAAM,eAAeC,YAAY,+BA9BrC,yBAAKpB,UAAU,OACb,yBAAKA,UAAU,kCACb,yBACEA,UAAU,sBACVC,MAAO,CAAEuF,QAASZ,EAAU,GAAK,SAFnC,+CAKE,kBAAC,IAAD,CAAM1E,GAAG,WAAT,iBASN,yBAAKF,UAAU,OACb,yBAAKA,UAAU,kCACb,yBACEA,UAAU,qBACVC,MAAO,CAAEuF,QAASnB,EAAQ,GAAK,SAE9BA,KAhEP,yBAAKrE,UAAU,OACb,yBAAKA,UAAU,kCACb,8BACE,yBAAKA,UAAU,cACb,2BAAOA,UAAU,cAAjB,QACA,2BACEA,UAAU,eACVyF,SAAUV,EAAa,QACvBW,KAAK,OACLR,MAAOrC,KAGX,yBAAK7C,UAAU,cACb,2BAAOA,UAAU,cAAjB,SACA,2BACEA,UAAU,eACVyF,SAAUV,EAAa,SACvBW,KAAK,QACLR,MAAOR,KAIX,yBAAK1E,UAAU,cACb,2BAAOA,UAAU,cAAjB,YACA,2BACEyF,SAAUV,EAAa,YACvB/E,UAAU,eACV0F,KAAK,WACLR,MAAOP,KAGX,4BAAQtE,QAAS8E,EAAUnF,UAAU,6BAArC,aA6CN,uBAAGA,UAAU,0BAA0BT,KAAKkC,UAAUoD,MCK7Cc,EAtHA,WAAO,IAAD,EACSnD,mBAAS,CACnCkC,MAAO,kBACPC,SAAU,SACVN,MAAO,GACPuB,SAAS,EACTC,aAAa,IANI,mBACZhB,EADY,KACJC,EADI,KASXJ,EAAiDG,EAAjDH,MAAOC,EAA0CE,EAA1CF,SAAUN,EAAgCQ,EAAhCR,MAAOuB,EAAyBf,EAAzBe,QAASC,EAAgBhB,EAAhBgB,YACjC1F,EAAShB,IAATgB,KAEF4E,EAAe,SAAAlC,GAAI,OAAI,SAAAmC,GAC3BF,EAAU,eAAKD,EAAN,aAAcR,OAAO,GAAQxB,EAAOmC,EAAMC,OAAOC,WAGtDC,EAAW,SAAAH,GACfA,EAAMI,iBACNN,EAAU,eAAKD,EAAN,CAAcR,OAAO,EAAOuB,SAAS,KTP5B,SAAAzF,GACpB,OAAOK,MAAM,GAAD,OAAIvB,EAAJ,WAAkB,CAC5BwB,OAAQ,OACR4E,QAAS,CACPC,OAAQ,mBACR,eAAgB,oBAElBC,KAAMhG,KAAKkC,UAAUtB,KAEpBO,MAAK,SAAAC,GACJ,OAAOA,EAASwD,UAEjBrD,OAAM,SAAAC,GAAG,OAAIH,QAAQC,IAAIE,MSJ1B+E,CAAO,CAAEpB,QAAOC,aACbjE,MAAK,SAAA0D,GACAA,EAAKC,MACPS,EAAU,eAAKD,EAAN,CAAcR,MAAOD,EAAKC,MAAOuB,SAAS,KTIjC,SAACxB,EAAM9D,GACX,qBAAXlB,SACTC,aAAamC,QAAQ,MAAOjC,KAAKkC,UAAU2C,IAC3C9D,KSLMyF,CAAa3B,GAAM,WACjBU,EAAU,eACLD,EADI,CAEPgB,aAAa,WAKpB/E,MAAMF,QAAQC,IAAI,2BA0EvB,OACE,kBAAC,EAAD,CAAMM,MAAM,eAAeC,YAAY,+BAzDrCwE,GACE,yBAAK5F,UAAU,oBACb,2CAQJ,yBAAKA,UAAU,OACb,yBAAKA,UAAU,kCACb,yBACEA,UAAU,qBACVC,MAAO,CAAEuF,QAASnB,EAAQ,GAAK,SAE9BA,KASP,yBAAKrE,UAAU,OACb,yBAAKA,UAAU,kCACb,8BACE,yBAAKA,UAAU,cACb,2BAAOA,UAAU,cAAjB,SACA,2BACEyF,SAAUV,EAAa,SACvBG,MAAOR,EACP1E,UAAU,eACV0F,KAAK,WAIT,yBAAK1F,UAAU,cACb,2BAAOA,UAAU,cAAjB,YACA,2BACEyF,SAAUV,EAAa,YACvBG,MAAOP,EACP3E,UAAU,eACV0F,KAAK,cAGT,4BAAQrF,QAAS8E,EAAUnF,UAAU,6BAArC,aA7DJ6F,EACE1F,GAAsB,IAAdA,EAAKC,KACR,kBAAC,IAAD,CAAUF,GAAG,qBAEb,kBAAC,IAAD,CAAUA,GAAG,oBAGpBf,IACK,kBAAC,IAAD,CAAUe,GAAG,WADtB,EAsEE,uBAAGF,UAAU,0BAA0BT,KAAKkC,UAAUoD,M,QC/F7CmB,EApBI,SAAC,GAAuC,IAA1BC,EAAyB,EAApCC,UAAyBC,EAAW,6BACxD,OACE,kBAAC,IAAD,iBACMA,EADN,CAEEC,OAAQ,SAAAC,GAAK,OACXlH,KAAmD,IAA/BA,IAAiBgB,KAAKC,KACxC,kBAAC6F,EAAcI,GAEf,kBAAC,IAAD,CACEnG,GAAI,CACFL,SAAU,UACVyG,MAAO,CAAEC,KAAMF,EAAMzG,kBCSpB4G,EApBM,SAAC,GAAuC,IAA1BP,EAAyB,EAApCC,UAAyBC,EAAW,6BAC1D,OACE,kBAAC,IAAD,iBACMA,EADN,CAEEC,OAAQ,SAAAC,GAAK,OACXlH,IACE,kBAAC8G,EAAcI,GAEf,kBAAC,IAAD,CACEnG,GAAI,CACFL,SAAU,UACVyG,MAAO,CAAEC,KAAMF,EAAMzG,kBCJpB6G,EARO,WACpB,OACE,kBAAC,EAAD,CAAMtF,MAAM,sBACV,4DCwESuF,EAzEQ,WAAO,IAAD,EAGvBvH,IADFgB,KAAQ0C,EAFiB,EAEjBA,KAAM6B,EAFW,EAEXA,MAFW,EAEJtE,KAyDvB,OACE,kBAAC,EAAD,CACEe,MAAM,wBACNC,YAAY,mCACZpB,UAAU,4BAEV,yBAAKA,UAAU,OACb,yBAAKA,UAAU,SA3DjB,yBAAKA,UAAU,QACb,wBAAIA,UAAU,kCAAd,oBACA,wBAAIA,UAAU,cACZ,wBAAIA,UAAU,mBACZ,kBAAC,IAAD,CAAME,GAAG,yBAAyBF,UAAU,yBAA5C,sBAIF,wBAAIA,UAAU,mBACZ,kBAAC,IAAD,CAAME,GAAG,oBAAoBF,UAAU,yBAAvC,sBAIF,wBAAIA,UAAU,mBACZ,kBAAC,IAAD,CAAME,GAAG,wBAAwBF,UAAU,yBAA3C,mBAIF,wBAAIA,UAAU,mBACZ,kBAAC,IAAD,CAAME,GAAG,kBAAkBF,UAAU,yBAArC,oBAIF,wBAAIA,UAAU,mBACZ,kBAAC,IAAD,CAAME,GAAG,gBAAgBF,UAAU,yBAAnC,qBAoCJ,yBAAKA,UAAU,SAzBjB,yBAAKA,UAAU,aACb,wBAAIA,UAAU,eAAd,qBACA,wBAAIA,UAAU,cACZ,wBAAIA,UAAU,mBACZ,0BAAMA,UAAU,4BAAhB,SADF,IAC2D6C,GAE3D,wBAAI7C,UAAU,mBACZ,0BAAMA,UAAU,4BAAhB,UADF,IAC4D0E,GAG5D,wBAAI1E,UAAU,mBACZ,0BAAMA,UAAU,sBAAhB,qBCtCC2G,EAAgB,WAC3B,OAAOnG,MAAM,GAAD,OAAIvB,EAAJ,eAAsB,CAChCwB,OAAQ,QAEPC,MAAK,SAAAC,GACJ,OAAOA,EAASwD,UAEjBrD,OAAM,SAAAC,GAAG,OAAIH,QAAQC,IAAIE,OCkEf6F,EAvFK,WAAO,IAAD,EACApE,mBAAS,IADT,mBACjBK,EADiB,KACXgE,EADW,OAEErE,oBAAS,GAFX,mBAEjB6B,EAFiB,KAEVJ,EAFU,OAGMzB,oBAAS,GAHf,mBAGjBoC,EAHiB,KAGRkC,EAHQ,OAKA3H,IAAhBgB,EALgB,EAKhBA,KAAM4G,EALU,EAKVA,MAURhC,EAAe,SAAAC,GACnBf,EAAS,IACT4C,EAAQ7B,EAAMC,OAAOC,QAGjBC,EAAW,SAAAH,GACfA,EAAMI,iBACNnB,EAAS,IACT6C,GAAW,GD1Be,SAACE,EAAQD,EAAOE,GAC5C,OAAOzG,MAAM,GAAD,OAAIvB,EAAJ,4BAA2B+H,GAAU,CAC/CvG,OAAQ,OACR4E,QAAS,CACPC,OAAQ,mBACR,eAAgB,mBAChB4B,cAAc,UAAD,OAAYH,IAE3BxB,KAAMhG,KAAKkC,UAAUwF,KAEpBvG,MAAK,SAAAC,GACJ,OAAOA,EAASwD,UAEjBrD,OAAM,SAAAC,GAAG,OAAIH,QAAQC,IAAIE,MCgB1BoG,CAAehH,EAAK0B,IAAKkF,EAAO,CAAElE,SAAQnC,MAAK,SAAA0D,GACzCA,EAAKC,MACPJ,GAAS,IAETA,EAAS,IACT6C,GAAW,GACXD,EAAQ,SAqCd,OACE,kBAAC,EAAD,CACE1F,MAAM,yBACNC,YAAY,qCACZpB,UAAU,yBAEV,yBAAKA,UAAU,wBACb,yBAAKA,UAAU,wBAvCE,WACrB,GAAI4E,EACF,OAAO,wBAAI5E,UAAU,gBAAd,iCAsCFoH,GAlCc,WACrB,GAAI/C,EACF,OAAO,wBAAIrE,UAAU,gBAAd,6BAiCFqH,GA5BP,8BACE,yBAAKrH,UAAU,cACb,uBAAGA,UAAU,QAAb,sBACA,2BACE0F,KAAK,OACL1F,UAAU,oBACVyF,SAAUV,EACVG,MAAOrC,EACPyE,WAAS,EACTC,UAAQ,EACRC,YAAY,mBAEd,4BAAQnH,QAAS8E,EAAUnF,UAAU,wBAArC,qBAtDJ,yBAAKA,UAAU,QACb,kBAAC,IAAD,CAAMA,UAAU,8BAA8BE,GAAG,oBAAjD,mBCgESuH,EAxEU,WAAO,IAAD,EACOjF,mBAAS,IADhB,mBACtBkF,EADsB,KACVC,EADU,OAGLxI,IAAhBgB,EAHqB,EAGrBA,KAAM4G,EAHe,EAGfA,MAERa,EAAU,WACdjB,IAAgBjG,MAAK,SAAA0D,GACfA,EAAKC,MACPzD,QAAQC,IAAIuD,EAAKC,OAEjBsD,EAAcvD,OAKpBE,qBAAU,WACRsD,MACC,IAEH,IAAMC,EAAqB,SAAAC,IFiCC,SAACA,EAAYd,EAAQD,GACjD,OAAOvG,MAAM,GAAD,OAAIvB,EAAJ,qBAAoB6I,EAApB,YAAkCd,GAAU,CACtDvG,OAAQ,SACR4E,QAAS,CACPC,OAAQ,mBACR4B,cAAc,UAAD,OAAYH,MAG1BrG,MAAK,SAAAC,GACJ,OAAOA,EAASwD,UAEjBrD,OAAM,SAAAC,GAAG,OAAIH,QAAQC,IAAIE,OE3C1BgH,CAAeD,EAAY3H,EAAK0B,IAAKkF,GAAOrG,MAAK,SAAA0D,GAC3CA,EAAKC,MACPzD,QAAQC,IAAIuD,EAAKC,OAEjBuD,QAKN,OACE,kBAAC,EAAD,CAAMzG,MAAM,gBAAgBC,YAAY,0BACtC,wBAAIpB,UAAU,QAAd,mBACA,kBAAC,IAAD,CAAMA,UAAU,eAAeE,GAAE,oBAC/B,0BAAMF,UAAU,IAAhB,eAEF,yBAAKA,UAAU,OACb,yBAAKA,UAAU,UACb,wBAAIA,UAAU,+BAAd,oBAEC0H,EAAWjE,KAAI,SAACwD,EAAU1C,GACzB,OACE,yBAAKC,IAAKD,EAAOvE,UAAU,yBACzB,yBAAKA,UAAU,SACb,wBAAIA,UAAU,wBAAwBiH,EAASpE,OAEjD,yBAAK7C,UAAU,SACb,kBAAC,IAAD,CACEA,UAAU,kBACVE,GAAE,iCAA4B+G,EAASpF,MAEvC,0BAAM7B,UAAU,IAAhB,YAGJ,yBAAKA,UAAU,SACb,4BACEK,QAAS,WACPwH,EAAmBZ,EAASpF,MAE9B7B,UAAU,kBAJZ,mBC2HHgI,EAlLI,WAAO,IAAD,EACC7I,IAAhBgB,EADe,EACfA,KAAM4G,EADS,EACTA,MADS,EAGKvE,mBAAS,CACnCK,KAAM,GACNzB,YAAa,GACb4B,MAAO,GACPiF,MAAO,GACPC,MAAO,GACPR,WAAY,GACZT,SAAU,GACVrB,SAAS,EACTvB,MAAO,GACP8D,eAAgB,GAChBC,cAAc,EACdC,SAAU,KAfW,mBAGhBxD,EAHgB,KAGRC,EAHQ,KAmBrBjC,EAWEgC,EAXFhC,KACAzB,EAUEyD,EAVFzD,YACA4B,EASE6B,EATF7B,MACAiF,EAQEpD,EARFoD,MACAP,EAOE7C,EAPF6C,WAIAS,GAGEtD,EANFoC,SAMEpC,EALFe,QAKEf,EAJFR,MAIEQ,EAHFsD,gBAEAE,GACExD,EAFFuD,aAEEvD,EADFwD,UAcF/D,qBAAU,WAVRqC,IAAgBjG,MAAK,SAAA0D,GAEfA,EAAKC,MACPS,EAAU,eAAKD,EAAN,CAAcR,MAAOD,EAAKC,SAEnCS,EAAU,eAAKD,EAAN,CAAc6C,WAAYtD,EAAMiE,SAAU,IAAIC,iBAO1D,IAEH,IAAMnD,EAAW,SAAAH,GACfA,EAAMI,iBACNN,EAAU,eAAKD,EAAN,CAAcR,MAAO,GAAIuB,SAAS,KHqBjB,SAACoB,EAAQD,EAAOpF,GAC5C,OAAOnB,MAAM,GAAD,OAAIvB,EAAJ,2BAA0B+H,GAAU,CAC9CvG,OAAQ,OACR4E,QAAS,CACPC,OAAQ,mBACR4B,cAAc,UAAD,OAAYH,IAE3BxB,KAAM5D,IAELjB,MAAK,SAAAC,GACJ,OAAOA,EAASwD,UAEjBrD,OAAM,SAAAC,GAAG,OAAIH,QAAQC,IAAIE,MGhC1BwH,CAAepI,EAAK0B,IAAKkF,EAAOsB,GAAU3H,MAAK,SAAA0D,GACzCA,EAAKC,MACPS,EAAU,eAAKD,EAAN,CAAcR,MAAOD,EAAKC,SAEnCS,EAAU,eACLD,EADI,CAEPhC,KAAM,GACNzB,YAAa,GACb4B,MAAO,GACPkF,MAAO,GACPD,MAAO,GACPrC,SAAS,EACTuC,eAAgB/D,EAAKvB,YAMvBkC,EAAe,SAAAlC,GAAI,OAAI,SAAAmC,GAC3B,IAAME,EAAiB,UAATrC,EAAmBmC,EAAMC,OAAOuD,MAAM,GAAKxD,EAAMC,OAAOC,MACtEmD,EAASI,IAAI5F,EAAMqC,GACnBJ,EAAU,eAAKD,EAAN,eAAehC,EAAOqC,OAwFjC,OACE,kBAAC,EAAD,CACE/D,MAAM,sBACNC,YAAY,sCACZpB,UAAU,yBAEV,kBAAC,IAAD,CAAME,GAAG,mBAAmBF,UAAU,4BAAtC,cAGA,yBAAKA,UAAU,kCACb,yBAAKA,UAAU,wBA9FnB,yBACEA,UAAU,2BACVC,MAAO,CAAEuF,QAAS2C,EAAiB,GAAK,SAExC,4BAAKA,EAAL,0BAKF,8BACE,4CACA,yBAAKnI,UAAU,cACb,2BAAOA,UAAU,6BACf,2BACEyF,SAAUV,EAAa,SACvBW,KAAK,OACL7C,KAAK,QACL6F,OAAO,QACPlB,YAAY,oBAIlB,yBAAKxH,UAAU,cACb,2BACEyF,SAAUV,EAAa,QACvBlC,KAAK,QACL7C,UAAU,eACVwH,YAAY,OACZtC,MAAOrC,KAGX,yBAAK7C,UAAU,cACb,8BACEyF,SAAUV,EAAa,eACvBlC,KAAK,QACL7C,UAAU,eACVwH,YAAY,cACZtC,MAAO9D,KAGX,yBAAKpB,UAAU,cACb,2BACEyF,SAAUV,EAAa,SACvBW,KAAK,SACL1F,UAAU,eACVwH,YAAY,QACZtC,MAAOlC,KAGX,yBAAKhD,UAAU,cACb,4BACEyF,SAAUV,EAAa,YACvB/E,UAAU,eACVwH,YAAY,YAEZ,0CACCE,GACCA,EAAWjE,KAAI,SAACkF,EAAMpE,GAAP,OACb,4BAAQC,IAAKD,EAAOW,MAAOyD,EAAK9G,KAC7B8G,EAAK9F,WAKhB,yBAAK7C,UAAU,cACb,2BACEyF,SAAUV,EAAa,SACvBW,KAAK,SACL1F,UAAU,eACVwH,YAAY,QACZtC,MAAO+C,KAIX,4BACEvC,KAAK,SACLrF,QAAS8E,EACTnF,UAAU,gCAHZ,uBC5ES4I,EAxEQ,WAAO,IAAD,EACKpG,mBAAS,IADd,mBACpBuB,EADoB,KACVC,EADU,OAGH7E,IAAhBgB,EAHmB,EAGnBA,KAAM4G,EAHa,EAGbA,MAERa,EAAU,WJiFTpH,MAAM,GAAD,OAAIvB,EAAJ,aAAoB,CAC9BwB,OAAQ,QAEPC,MAAK,SAAAC,GACJ,OAAOA,EAASwD,UAEjBrD,OAAM,SAAAC,GAAG,OAAIH,QAAQC,IAAIE,MItFZL,MAAK,SAAA0D,GACbA,EAAKC,MACPzD,QAAQC,IAAIuD,EAAKC,OAEjBL,EAAYI,OAKlBE,qBAAU,WACRsD,MACC,IAEH,IAAMiB,EAAoB,SAAArF,IJ8EC,SAACA,EAAWwD,EAAQD,GAC/C,OAAOvG,MAAM,GAAD,OAAIvB,EAAJ,oBAAmBuE,EAAnB,YAAgCwD,GAAU,CACpDvG,OAAQ,SACR4E,QAAS,CACPC,OAAQ,mBACR4B,cAAc,UAAD,OAAYH,MAG1BrG,MAAK,SAAAC,GACJ,OAAOA,EAASwD,UAEjBrD,OAAM,SAAAC,GAAG,OAAIH,QAAQC,IAAIE,OIxF1B+H,CAActF,EAAWrD,EAAK0B,IAAKkF,GAAOrG,MAAK,SAAA0D,GACzCA,EAAKC,MACPzD,QAAQC,IAAIuD,EAAKC,OAEjBuD,QAKN,OACE,kBAAC,EAAD,CAAMzG,MAAM,gBAAgBC,YAAY,wBACtC,wBAAIpB,UAAU,QAAd,iBACA,kBAAC,IAAD,CAAMA,UAAU,eAAeE,GAAE,oBAC/B,0BAAMF,UAAU,IAAhB,eAEF,yBAAKA,UAAU,OACb,yBAAKA,UAAU,UACb,wBAAIA,UAAU,+BAAd,oBAEC+D,EAASN,KAAI,SAAC9B,EAAS4C,GACtB,OACE,yBAAKC,IAAKD,EAAOvE,UAAU,yBACzB,yBAAKA,UAAU,SACb,wBAAIA,UAAU,wBAAwB2B,EAAQkB,OAEhD,yBAAK7C,UAAU,SACb,kBAAC,IAAD,CACEA,UAAU,kBACVE,GAAE,gCAA2ByB,EAAQE,MAErC,0BAAM7B,UAAU,IAAhB,YAGJ,yBAAKA,UAAU,SACb,4BACEK,QAAS,WACPwI,EAAkBlH,EAAQE,MAE5B7B,UAAU,kBAJZ,mBCqJH+I,EA5MO,SAAC,GAAe,IAAbC,EAAY,EAAZA,MAAY,EACX7J,IAAhBgB,EAD2B,EAC3BA,KAAM4G,EADqB,EACrBA,MADqB,EAGPvE,mBAAS,CACnCK,KAAM,GACNzB,YAAa,GACb4B,MAAO,GACPiF,MAAO,GACPC,MAAO,GACPR,WAAY,GACZT,SAAU,GACVrB,SAAS,EACTvB,MAAO,GACP8D,eAAgB,GAChBC,cAAc,EACdC,SAAU,KAfuB,mBAG5BxD,EAH4B,KAGpBC,EAHoB,KAmBjCjC,EAWEgC,EAXFhC,KACAzB,EAUEyD,EAVFzD,YACA4B,EASE6B,EATF7B,MACAiF,EAQEpD,EARFoD,MACAP,EAOE7C,EAPF6C,WAIAS,GAGEtD,EANFoC,SAMEpC,EALFe,QAKEf,EAJFR,MAIEQ,EAHFsD,gBAEAE,GACExD,EAFFuD,aAEEvD,EADFwD,UAGIT,EAAU,SAAApE,ILkFQ,SAAAA,GACxB,OAAOhD,MAAM,GAAD,OAAIvB,EAAJ,oBAAmBuE,GAAa,CAC1C/C,OAAQ,QAEPC,MAAK,SAAAC,GACJ,OAAOA,EAASwD,UAEjBrD,OAAM,SAAAC,GAAG,OAAIH,QAAQC,IAAIE,OKxF1BkI,CAAWzF,GAAW9C,MAAK,SAAA0D,GAErBA,EAAKC,MACPS,EAAU,eAAKD,EAAN,CAAcR,MAAOD,EAAKC,UAEnC6E,IACApE,EAAU,eACLD,EADI,CAEPhC,KAAMuB,EAAKvB,KACXzB,YAAagD,EAAKhD,YAClB4B,MAAOoB,EAAKpB,MACZiE,SAAU7C,EAAK6C,SAASpF,IACxBoG,MAAO7D,EAAK6D,MACZI,SAAU,IAAIC,iBAMhBY,EAAoB,WACxBvC,IAAgBjG,MAAK,SAAA0D,GACfA,EAAKC,MACPS,EAAU,eAAKD,EAAN,CAAcR,MAAOD,EAAKC,SAEnCS,EAAU,CACR4C,WAAYtD,EACZiE,SAAU,IAAIC,eAMtBhE,qBAAU,WACRsD,EAAQoB,EAAMG,OAAO3F,aACpB,IAGH,IAAM2B,EAAW,SAAAH,GACfA,EAAMI,iBACNN,EAAU,eAAKD,EAAN,CAAcR,MAAO,GAAIuB,SAAS,KLsDlB,SAACpC,EAAWwD,EAAQD,EAAOpF,GACtD,OAAOnB,MAAM,GAAD,OAAIvB,EAAJ,oBAAmBuE,EAAnB,YAAgCwD,GAAU,CACpDvG,OAAQ,MACR4E,QAAS,CACPC,OAAQ,mBACR4B,cAAc,UAAD,OAAYH,IAE3BxB,KAAM5D,IAELjB,MAAK,SAAAC,GACJ,OAAOA,EAASwD,UAEjBrD,OAAM,SAAAC,GAAG,OAAIH,QAAQC,IAAIE,MKhE1BqI,CAAcJ,EAAMG,OAAO3F,UAAWrD,EAAK0B,IAAKkF,EAAOsB,GAAU3H,MAC/D,SAAA0D,GACMA,EAAKC,MACPS,EAAU,eAAKD,EAAN,CAAcR,MAAOD,EAAKC,SAEnCS,EAAU,eACLD,EADI,CAEPhC,KAAM,GACNzB,YAAa,GACb4B,MAAO,GACPkF,MAAO,GACPD,MAAO,GACPrC,SAAS,EACTuC,eAAgB/D,EAAKvB,YAOzBkC,EAAe,SAAAlC,GAAI,OAAI,SAAAmC,GAC3B,IAAME,EAAiB,UAATrC,EAAmBmC,EAAMC,OAAOuD,MAAM,GAAKxD,EAAMC,OAAOC,MACtEmD,EAASI,IAAI5F,EAAMqC,GACnBJ,EAAU,eAAKD,EAAN,eAAehC,EAAOqC,OAwFjC,OACE,kBAAC,EAAD,CACE/D,MAAM,sBACNC,YAAY,sCACZpB,UAAU,yBAEV,kBAAC,IAAD,CAAME,GAAG,mBAAmBF,UAAU,4BAAtC,cAGA,yBAAKA,UAAU,kCACb,yBAAKA,UAAU,wBA9FnB,yBACEA,UAAU,2BACVC,MAAO,CAAEuF,QAAS2C,EAAiB,GAAK,SAExC,4BAAKA,EAAL,0BAKF,8BACE,4CACA,yBAAKnI,UAAU,cACb,2BAAOA,UAAU,6BACf,2BACEyF,SAAUV,EAAa,SACvBW,KAAK,OACL7C,KAAK,QACL6F,OAAO,QACPlB,YAAY,oBAIlB,yBAAKxH,UAAU,cACb,2BACEyF,SAAUV,EAAa,QACvBlC,KAAK,QACL7C,UAAU,eACVwH,YAAY,OACZtC,MAAOrC,KAGX,yBAAK7C,UAAU,cACb,8BACEyF,SAAUV,EAAa,eACvBlC,KAAK,QACL7C,UAAU,eACVwH,YAAY,cACZtC,MAAO9D,KAGX,yBAAKpB,UAAU,cACb,2BACEyF,SAAUV,EAAa,SACvBW,KAAK,SACL1F,UAAU,eACVwH,YAAY,QACZtC,MAAOlC,KAGX,yBAAKhD,UAAU,cACb,4BACEyF,SAAUV,EAAa,YACvB/E,UAAU,eACVwH,YAAY,YAEZ,0CACCE,GACCA,EAAWjE,KAAI,SAACkF,EAAMpE,GAAP,OACb,4BAAQC,IAAKD,EAAOW,MAAOyD,EAAK9G,KAC7B8G,EAAK9F,WAKhB,yBAAK7C,UAAU,cACb,2BACEyF,SAAUV,EAAa,SACvBW,KAAK,SACL1F,UAAU,eACVwH,YAAY,QACZtC,MAAO+C,KAIX,4BACEvC,KAAK,SACLrF,QAAS8E,EACTnF,UAAU,gCAHZ,uBC1ESqJ,EArGQ,SAAC,GAAe,IAAbL,EAAY,EAAZA,MAAY,EACVxG,mBAAS,IADC,mBAC3BK,EAD2B,KACrBgE,EADqB,OAERrE,oBAAS,GAFD,mBAE3B6B,EAF2B,KAEpBJ,EAFoB,OAGJzB,oBAAS,GAHL,mBAG3BoC,EAH2B,KAGlBkC,EAHkB,OAKV3H,IAAhBgB,EAL0B,EAK1BA,KAAM4G,EALoB,EAKpBA,MAURuC,EAAU,SAACxB,INUM,SAAAA,GACzB,OAAOtH,MAAM,GAAD,OAAIvB,EAAJ,qBAAoB6I,GAAc,CAC5CrH,OAAQ,QAEPC,MAAK,SAAAC,GACJ,OAAOA,EAASwD,UAEjBrD,OAAM,SAAAC,GAAG,OAAIH,QAAQC,IAAIE,OMhBtBwI,CAAYzB,GAAYpH,MAAK,SAAA0D,GACrBA,EAAKC,MACLJ,EAASG,EAAKC,OAEdwC,EAAQzC,EAAKvB,SAElB/B,OAAM,SAAAC,GAAG,OAAIH,QAAQC,IAAIE,OAGhCuD,qBAAU,WACNgF,EAAQN,EAAMG,OAAOrB,cACtB,IAEH,IAAM/C,EAAe,SAAAC,GACjBf,EAAS,IACT4C,EAAQ7B,EAAMC,OAAOC,QAGnBC,EAAW,SAAAH,GACbA,EAAMI,iBACNnB,EAAS,IACT6C,GAAW,GNDW,SAACgB,EAAYd,EAAQD,EAAOE,GACxD,OAAOzG,MAAM,GAAD,OAAIvB,EAAJ,qBAAoB6I,EAApB,YAAkCd,GAAU,CACtDvG,OAAQ,MACR4E,QAAS,CACPC,OAAQ,mBACR,eAAgB,mBAChB4B,cAAc,UAAD,OAAYH,IAE3BxB,KAAMhG,KAAKkC,UAAUwF,KAEpBvG,MAAK,SAAAC,GACJ,OAAOA,EAASwD,UAEjBrD,OAAM,SAAAC,GAAG,OAAIH,QAAQC,IAAIE,MMTtByI,CAAeR,EAAMG,OAAOrB,WAAY3H,EAAK0B,IAAKkF,EAAO,CAAElE,SAAQnC,MAAK,SAAA0D,GAChEA,EAAKC,MACLJ,GAAS,IAETA,EAAS,IACT6C,GAAW,GACXD,EAAQ,SAqCpB,OACI,kBAAC,EAAD,CACI1F,MAAM,yBACNC,YAAY,qCACZpB,UAAU,yBAEV,yBAAKA,UAAU,wBACX,yBAAKA,UAAU,wBAvCJ,WACnB,GAAI4E,EACA,OAAO,wBAAI5E,UAAU,gBAAd,iCAsCEoH,GAlCM,WACnB,GAAI/C,EACA,OAAO,wBAAIrE,UAAU,eAAd,6BAiCEqH,GA5Bb,8BACI,yBAAKrH,UAAU,cACX,uBAAGA,UAAU,QAAb,sBACA,2BACI0F,KAAK,OACL1F,UAAU,oBACVyF,SAAUV,EACVG,MAAOrC,EACPyE,WAAS,EACTC,UAAQ,EACRC,YAAY,mBAEhB,4BAAQnH,QAAS8E,EAAUnF,UAAU,wBAArC,qBApER,yBAAKA,UAAU,QACX,kBAAC,IAAD,CAAMA,UAAU,8BAA8BE,GAAG,oBAAjD,mB,iBCsDGuJ,EA9DQ,SAAC,GAA0D,IAAxD1F,EAAuD,EAAvDA,SAAuD,KAA7C1B,UAA6C,EAAzBE,OAE5BC,mBAAS,CAC7BoD,SAAS,EACThB,SAAS,EACTP,MAAO,GACPqF,QAAS,MANgE,mBAYvEC,GAZuE,UAS/DxK,KAAoBA,IAAiB4H,MACpC5H,KAAoBA,IAAiBgB,KAAK0B,IAEnC,WAClB,IAAI+H,EAAS,EAIb,OAHA7F,GAAYA,EAASN,KAAI,SAACoG,GACtBD,GAAkBC,EAAE7G,SAEjB4G,IAGLE,EAAc,SAAC/C,GACjB,IAAMxB,EAAO,CACTwB,QACAhD,YAOJ,OAAOvD,MAAM,GAAD,OAAIvB,EAAJ,kBAAyB,CACjCwB,OAAQ,OACR4E,QANY,CACZ,eAAgB,oBAMhBE,KAAMhG,KAAKkC,UAAU8D,KAEpB7E,MAAK,SAAAC,GAAa,IACRoJ,EAAUpJ,EAAVoJ,OACPnJ,QAAQC,IAAI,UAAWkJ,GACvBzI,GAAU,WACNV,QAAQC,IAAI,sBAEjBC,OAAM,SAAAC,GAAG,OAAIH,QAAQC,IAAIE,OAapC,OACI,6BACI,wBAAIf,UAAU,cAAd,0BAAmD2J,KAXhDxK,KAAoB4E,EAASiG,OAAS,EACzC,kBAAC,IAAD,CAAsBC,UAAW/K,8GAAsC6H,MAAO+C,EAAaF,OAA0B,IAAlBD,IAAuB9G,KAAK,cAAcqH,gBAAc,EAACC,iBAAe,GACvK,4BAAQnK,UAAU,6BAAlB,oBAGJ,2E,iBCmDGoK,MAnGf,YAAiF,IAArDrG,EAAoD,EAApDA,SAAoD,IAA1C1B,iBAA0C,MAA9B,SAAAC,GAAC,OAAIA,GAAyB,MAAtBC,cAAsB,WAAbhB,EAAa,IAEpDiB,mBAAS,CAC7BoD,SAAS,EACThB,SAAS,EACTyF,YAAa,KACbhG,MAAO,GACPiG,SAAU,KAP8D,mBAErEC,EAFqE,KAE/DC,EAF+D,KAUtExD,EAAS7H,KAAoBA,IAAiBgB,KAAK0B,IACnDkF,EAAQ5H,KAAoBA,IAAiB4H,MAE7C0D,EAAa,SAACzD,EAAQD,ICpBR,SAACC,EAAQD,GAE7B,OADAnG,QAAQC,IAAImG,GACLxG,MAAM,GAAD,OAAIvB,EAAJ,6BAA4B+H,GAAU,CAC9CvG,OAAQ,MACR4E,QAAS,CACLC,OAAQ,mBACR4B,cAAc,UAAD,OAAYH,MAE9BrG,MAAK,SAACgK,GACL,OAAOA,EAAIvG,UACZrD,OAAM,SAAAC,GAAG,OAAIH,QAAQC,IAAIE,ODWxB4J,CAAS3D,EAAQD,GAAOrG,MAAK,SAAA6J,GACzB,GAAIA,EAAKlG,MACLmG,EAAQ,eAAKD,EAAN,CAAYlG,MAAOkG,EAAKlG,aAC5B,CACH,IAAMgG,EAAcE,EAAKF,YACzBG,EAAQ,CAAEH,qBAKtB/F,qBAAU,WACNmG,EAAWzD,EAAQD,KACpB,IAEH,IAiBM6D,EAAa,WACfJ,EAAQ,CAAE5E,SAAS,IAEJ2E,EAAKD,SACfO,uBACAnK,MAAK,SAAA0D,GAEF,IAAM0G,EAAc,CAChBC,mBAFI3G,EAAK4G,MAGTpB,OAAQqB,MChDE,SAACjE,EAAQD,EAAOmE,GAC1C,OAAO1K,MAAM,GAAD,OAAIvB,EAAJ,8BAA6B+H,GAAU,CAC/CvG,OAAQ,OACR4E,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChB4B,cAAc,UAAD,OAAYH,IAE7BxB,KAAMhG,KAAKkC,UAAUyJ,KACtBxK,MAAK,SAACgK,GACL,OAAOA,EAAIvG,UACZrD,OAAM,SAAAC,GAAG,OAAIH,QAAQC,IAAIE,ODuChBoK,CAAenE,EAAQD,EAAO+D,GACzBpK,MAAK,SAAAC,GACF6J,EAAQ,eAAKD,EAAN,CAAY3F,QAASjE,EAASiE,QAASgB,SAAS,KACvDhF,QAAQC,IAAI,mBAEZ,IAAMuK,EAAY,CACdrH,SAAUA,EACVsH,eAAgB1K,EAAS2K,YAAYC,GACrC3B,OAAQjJ,EAAS2K,YAAY1B,SEvE9B,SAAC5C,EAAQD,EAAOqE,GAChC5K,MAAM,GAAD,OAAIvB,EAAJ,yBAAwB+H,GAAU,CAC1CvG,OAAQ,OACR4E,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChB4B,cAAc,UAAD,OAAYH,IAE7BxB,KAAMhG,KAAKkC,UAAU,CAAE+J,MAAOJ,MAC/B1K,MAAK,SAAAgK,GACJ,OAAOA,EAAIvG,UACZrD,OAAM,SAACC,GAAD,OAASH,QAAQC,IAAIE,MF+DV0K,CAAYzE,EAAQD,EAAOqE,GAE3B9J,GAAU,WACNV,QAAQC,IAAI,iBAEhBwB,GAAWE,MAGdzB,OAAM,SAAAC,GACHyJ,EAAQ,CAAE5E,SAAS,EAAOhB,SAAS,IACnChE,QAAQC,IAAI,yBAK1BoK,EAAY,WACd,IAAIrB,EAAS,EAIb,OAHA7F,EAASN,KAAI,SAACoG,GACVD,GAAkBC,EAAE7G,SAEjB4G,GAGX,OACI,oCACI,oDAA0BqB,KA9D1B,6BAC0B,OAArBV,EAAKF,aAAwBtG,EAASiG,OAAS,GAAK7K,IAE7C,6BACI,kBAAC,IAAD,CAAQuM,QAAS,CAAEC,cAAepB,EAAKF,aAAeuB,WAAY,SAAAtB,GAAQ,OAAKC,EAAKD,SAAWA,KAC/F,4BAAQtK,UAAU,4BAA4BK,QAASuK,GAAvD,oBAIJ,4EGQTiB,EA9CF,WAAO,IAAD,EAEiBrJ,mBAAS,IAF1B,mBAERuB,EAFQ,KAEEC,EAFF,OAGaxB,oBAAS,GAHtB,mBAGRD,EAHQ,KAGAF,EAHA,KAKfiC,qBAAU,WACNN,EtBJgB,WACpB,QAAsBzC,WAAXnC,QACHC,aAAaC,QAAQ,QACrB,OAAOC,KAAKC,MAAMH,aAAaC,QAAQ,SsBC/BwM,MACb,CAACvJ,IA6BJ,OACI,kBAAC,EAAD,CAAMpB,MAAM,YAAYC,YAAY,sBAChC,yBAAKpB,UAAU,mBACX,yBAAKA,UAAU,SAAS+D,GAAYA,EAASiG,OAAS,EA3B1D,6BACI,6DACCjG,GAAYA,EAASN,KAAI,SAAC9B,EAAS4C,GAChC,OACI,kBAAC,EAAD,CAAM5C,QAASA,EAASQ,WAAW,EAAOC,gBAAgB,EAAMoC,IAAKD,EAAOlC,UAAWA,EAAWE,OAAQA,QAuBnC,oDAC/E,yBAAKvC,UAAU,SAfnB,oCACI,qDACC,kBAAC,EAAD,CAAgB+D,SAAUA,EAAU1B,UAAWA,IAChD,6BACA,iEACA,kBAAC,EAAD,CAAkB0B,SAAUA,EAAU1B,UAAWA,SCiBlD0J,EAxCA,WACb,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOpM,KAAK,IAAIqM,OAAK,EAAC9F,UAAWpC,IACjC,kBAAC,IAAD,CAAOnE,KAAK,UAAUqM,OAAK,EAAC9F,UAAWzB,IACvC,kBAAC,IAAD,CAAO9E,KAAK,UAAUqM,OAAK,EAAC9F,UAAWP,IACvC,kBAAC,EAAD,CAAchG,KAAK,kBAAkBqM,OAAK,EAAC9F,UAAWO,IACtD,kBAAC,EAAD,CAAY9G,KAAK,mBAAmBqM,OAAK,EAAC9F,UAAWQ,IACrD,kBAAC,EAAD,CACE/G,KAAK,yBACLqM,OAAK,EACL9F,UAAWU,IAEb,kBAAC,EAAD,CACEjH,KAAK,oBACLqM,OAAK,EACL9F,UAAWuB,IAEb,kBAAC,EAAD,CAAY9H,KAAK,wBAAwBqM,OAAK,EAAC9F,UAAW8B,IAE1D,kBAAC,EAAD,CAAYrI,KAAK,kBAAkBqM,OAAK,EAAC9F,UAAW0C,IACpD,kBAAC,EAAD,CACEjJ,KAAK,mCACLqM,OAAK,EACL9F,UAAW6C,IAEb,kBAAC,EAAD,CACEpJ,KAAK,qCACLqM,OAAK,EACL9F,UAAWmD,IAGb,kBAAC,IAAD,CAAO1J,KAAK,QAAQqM,OAAK,EAAC9F,UAAW2F,O,eC9C7CI,EAAS7F,OAAO,kBAAC,EAAD,MAAY8F,SAASC,eAAe,W","file":"static/js/main.5d64ca01.chunk.js","sourcesContent":["export const API = process.env.REACT_APP_BACKEND;\n","import { API } from \"../../backend\";\n\nexport const signup = user => {\n  return fetch(`${API}/signup`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(user)\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const signin = user => {\n  return fetch(`${API}/signin`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(user)\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\nexport const authenticate = (data, next) => {\n  if (typeof window !== \"undefined\") {\n    localStorage.setItem(\"jwt\", JSON.stringify(data));\n    next();\n  }\n};\n\nexport const signout = next => {\n  if (typeof window !== \"undefined\") {\n    localStorage.removeItem(\"jwt\");\n    next();\n\n    return fetch(`${API}/signout`, {\n      method: \"GET\"\n    })\n      .then(response => console.log(\"signout success\"))\n      .catch(err => console.log(err));\n  }\n};\n\nexport const isAutheticated = () => {\n  if (typeof window == \"undefined\") {\n    return false;\n  }\n  if (localStorage.getItem(\"jwt\")) {\n    return JSON.parse(localStorage.getItem(\"jwt\"));\n  } else {\n    return false;\n  }\n};\n","import React, { Fragment } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { signout, isAutheticated } from \"../auth/helper\";\n\nconst currentTab = (history, path) => {\n  if (history.location.pathname === path) {\n    return { color: \"#2ecc72\" };\n  } else {\n    return { color: \"#FFFFFF\" };\n  }\n};\n\nconst Menu = ({ history }) => (\n  <div>\n    <ul className=\"nav nav-tabs bg-dark\">\n      <li className=\"nav-item\">\n        <Link style={currentTab(history, \"/\")} className=\"nav-link\" to=\"/\">\n          Home\n        </Link>\n      </li>\n      <li className=\"nav-item\">\n        <Link\n          style={currentTab(history, \"/cart\")}\n          className=\"nav-link\"\n          to=\"/cart\"\n        >\n          Cart\n        </Link>\n      </li>\n      {isAutheticated() && isAutheticated().user.role === 0 && (\n        <li className=\"nav-item\">\n          <Link\n            style={currentTab(history, \"/user/dashboard\")}\n            className=\"nav-link\"\n            to=\"/user/dashboard\"\n          >\n            U. Dashboard\n          </Link>\n        </li>\n      )}\n      {isAutheticated() && isAutheticated().user.role === 1 && (\n        <li className=\"nav-item\">\n          <Link\n            style={currentTab(history, \"/admin/dashboard\")}\n            className=\"nav-link\"\n            to=\"/admin/dashboard\"\n          >\n            A. Dashboard\n          </Link>\n        </li>\n      )}\n      {!isAutheticated() && (\n        <Fragment>\n          <li className=\"nav-item\">\n            <Link\n              style={currentTab(history, \"/signup\")}\n              className=\"nav-link\"\n              to=\"/signup\"\n            >\n              Signup\n            </Link>\n          </li>\n          <li className=\"nav-item\">\n            <Link\n              style={currentTab(history, \"/signin\")}\n              className=\"nav-link\"\n              to=\"/signin\"\n            >\n              Sign In\n            </Link>\n          </li>\n        </Fragment>\n      )}\n      {isAutheticated() && (\n        <li className=\"nav-item\">\n          <span\n            className=\"nav-link text-warning\"\n            onClick={() => {\n              signout(() => {\n                history.push(\"/\");\n              });\n            }}\n          >\n            Signout\n          </span>\n        </li>\n      )}\n    </ul>\n  </div>\n);\n\nexport default withRouter(Menu);\n","import React from \"react\";\nimport Menu from \"./Menu\";\n\nconst Base = ({\n  title = \"My Title\",\n  description = \"My desription\",\n  className = \"bg-dark text-white p-4\",\n  children\n}) => (\n  <div>\n    <Menu />\n    <div className=\"container-fluid\">\n      <div className=\"jumbotron bg-dark text-white text-center\">\n        <h2 className=\"display-4\">{title}</h2>\n        <p className=\"lead\">{description}</p>\n      </div>\n      <div className={className}>{children}</div>\n    </div>\n    <footer className=\"footer bg-dark mt-auto py-3\">\n      <div className=\"container-fluid bg-success text-white text-center py-3\">\n        <h4>If you got any questions, feel free to reach out!</h4>\n        <button className=\"btn btn-warning btn-lg\">Contact Us</button>\n      </div>\n      <div className=\"container\">\n        <span className=\"text-muted\">\n          An Amazing <span className=\"text-white\">MERN</span> Bootcamp\n        </span>\n      </div>\n    </footer>\n  </div>\n);\n\nexport default Base;\n","export const addProductToCart = (item, next) => {\r\n    let cart = [];\r\n    if (typeof window !== undefined) {\r\n        if (localStorage.getItem(\"cart\")) {\r\n            cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n        };\r\n        cart.push({ ...item, count: 1 });\r\n        localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n        next();\r\n    }\r\n}\r\n\r\nexport const loadCart = () => {\r\n    if (typeof window !== undefined) {\r\n        if (localStorage.getItem(\"cart\")) {\r\n            return JSON.parse(localStorage.getItem(\"cart\"));\r\n        };\r\n    }\r\n}\r\n\r\nexport const removeItemFromCart = (productId) => {\r\n    let cart = [];\r\n    if (typeof window !== undefined) {\r\n        if (localStorage.getItem(\"cart\")) {\r\n            cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n        };\r\n    }\r\n    cart.map((product, i) => {\r\n        if (product._id === productId) {\r\n            cart.splice(i, 1)\r\n        }\r\n        localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n    })\r\n    return cart;\r\n}\r\n\r\nexport const cartEmpty = next => {\r\n    if (typeof window !== undefined) {\r\n        localStorage.removeItem(\"cart\");\r\n        let cart = [];\r\n        localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n        next();\r\n    }\r\n}","import React from 'react'\r\nimport { API } from '../../backend'\r\n\r\nfunction ImageHelper({ product }) {\r\n    const imageURL = product ? `${API}/product/photo/${product._id}` : \"https://images.pexels.com/photos/3561339/pexels-photo-3561339.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940\"\r\n    return (\r\n        <div className=\"rounded border border-success p-2\">\r\n            <img\r\n                src={imageURL}\r\n                alt=\"photo\"\r\n                style={{ maxHeight: \"100%\", maxWidth: \"100%\" }}\r\n                className=\"mb-3 rounded\"\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ImageHelper","import React, { useState } from 'react'\r\nimport { Redirect } from 'react-router-dom';\r\nimport { addProductToCart, removeItemFromCart } from '../admin/helper/cartHelper';\r\nimport ImageHelper from './helper/ImageHelper';\r\n\r\nconst Card = ({ product, addToCart = true, removeFromCart = false, setReload = f => f, reload = undefined }) => {\r\n\r\n    const [getRedirect, setGetRedirect] = useState(false);\r\n    const [count, setCount] = useState(product.count)\r\n\r\n    const cardTitle = product ? product.name : \"A photo from pixel\"\r\n    const cardDescription = product ? product.description : \"Default description\"\r\n    const cardPrice = product ? product.price : \"Default Price\"\r\n\r\n    const addItemToCart = () => {\r\n        addProductToCart(product, () => setGetRedirect(true))\r\n    }\r\n\r\n    const getARedirect = (redirect) => {\r\n        if (redirect) {\r\n            return <Redirect to=\"/cart\" />\r\n        }\r\n    }\r\n\r\n    const showAddToCart = (addToCart) => {\r\n        return (\r\n            addToCart && (\r\n                <button onClick={addItemToCart} className=\"btn btn-block btn-outline-success mt-2 mb-2\">\r\n                    Add to Cart\r\n                </button>\r\n            )\r\n        )\r\n    }\r\n\r\n    const showRemoveFromCart = (removeFromCart) => {\r\n        return (\r\n            removeFromCart && (\r\n                <button onClick={() => {\r\n                    removeItemFromCart(product._id)\r\n                    setReload(!reload)\r\n                }\r\n                } className=\"btn btn-block btn-outline-danger mt-2 mb-2\">\r\n                    Remove from cart\r\n                </button>\r\n            )\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"card text-white bg-dark border border-info \">\r\n            {getARedirect(getRedirect)}\r\n            <div className=\"card-header lead\">{cardTitle}</div>\r\n            <div className=\"card-body\">\r\n                <ImageHelper product={product} />\r\n                <p className=\"lead bg-success font-weight-normal text-wrap\">\r\n                    {cardDescription}\r\n                </p>\r\n                <p className=\"btn btn-success rounded  btn-sm px-4\">$ {cardPrice}</p>\r\n                <div className=\"row\">\r\n                    <div className=\"col-12\">\r\n                        {showAddToCart(addToCart)}\r\n                    </div>\r\n                    <div className=\"col-12\">\r\n                        {showRemoveFromCart(removeFromCart)}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Card","import React, { useEffect, useState } from \"react\";\nimport \"../styles.css\";\nimport { API } from \"../backend\";\nimport Base from \"./Base\";\nimport Card from \"./Card\";\nimport { getProducts } from \"./helper/coreapicalls\";\n\nexport default function Home() {\n\n  const [products, setProducts] = useState([])\n  const [error, setError] = useState(false)\n\n  const loadAllProducts = () => {\n    getProducts().then(data => {\n      if (data.error) {\n        setError(data.error)\n      } else {\n        setProducts(data);\n      }\n    })\n  }\n\n  useEffect(() => {\n    loadAllProducts()\n  }, [])\n\n\n  return (\n    <Base title=\"Home Page\" description=\"Welcome to the Tshirt Store\">\n      <div className=\"row text-center\">\n        <h1 className=\"text-white\">All of tshirts</h1>\n        <div className=\"row\">\n          {products.map((product, index) => {\n            return (\n              <div key={index} className=\"col-4 mb-4\">\n                <Card  product={product}/>\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    </Base>\n  );\n}\n","import { API } from \"../../backend\";\r\n\r\n//get all products\r\nexport const getProducts = () => {\r\n    return fetch(`${API}/products`, {\r\n      method: \"GET\"\r\n    })\r\n      .then(response => {\r\n        return response.json();\r\n      })\r\n      .catch(err => console.log(err));\r\n  };","import React, { useState } from \"react\";\nimport Base from \"../core/Base\";\nimport { Link } from \"react-router-dom\";\nimport { signup } from \"../auth/helper\";\n\nconst Signup = () => {\n  const [values, setValues] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    error: \"\",\n    success: false\n  });\n\n  const { name, email, password, error, success } = values;\n\n  const handleChange = name => event => {\n    setValues({ ...values, error: false, [name]: event.target.value });\n  };\n\n  const onSubmit = event => {\n    event.preventDefault();\n    setValues({ ...values, error: false });\n    signup({ name, email, password })\n      .then(data => {\n        if (data.error) {\n          setValues({ ...values, error: data.error, success: false });\n        } else {\n          setValues({\n            ...values,\n            name: \"\",\n            email: \"\",\n            password: \"\",\n            error: \"\",\n            success: true\n          });\n        }\n      })\n      .catch(console.log(\"Error in signup\"));\n  };\n\n  const signUpForm = () => {\n    return (\n      <div className=\"row\">\n        <div className=\"col-md-6 offset-sm-3 text-left\">\n          <form>\n            <div className=\"form-group\">\n              <label className=\"text-light\">Name</label>\n              <input\n                className=\"form-control\"\n                onChange={handleChange(\"name\")}\n                type=\"text\"\n                value={name}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label className=\"text-light\">Email</label>\n              <input\n                className=\"form-control\"\n                onChange={handleChange(\"email\")}\n                type=\"email\"\n                value={email}\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <label className=\"text-light\">Password</label>\n              <input\n                onChange={handleChange(\"password\")}\n                className=\"form-control\"\n                type=\"password\"\n                value={password}\n              />\n            </div>\n            <button onClick={onSubmit} className=\"btn btn-success btn-block\">\n              Submit\n            </button>\n          </form>\n        </div>\n      </div>\n    );\n  };\n\n  const successMessage = () => {\n    return (\n      <div className=\"row\">\n        <div className=\"col-md-6 offset-sm-3 text-left\">\n          <div\n            className=\"alert alert-success\"\n            style={{ display: success ? \"\" : \"none\" }}\n          >\n            New account was created successfully. Please\n            <Link to=\"/signin\">Login Here</Link>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  const errorMessage = () => {\n    return (\n      <div className=\"row\">\n        <div className=\"col-md-6 offset-sm-3 text-left\">\n          <div\n            className=\"alert alert-danger\"\n            style={{ display: error ? \"\" : \"none\" }}\n          >\n            {error}\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <Base title=\"Sign up page\" description=\"A page for user to sign up!\">\n      {successMessage()}\n      {errorMessage()}\n      {signUpForm()}\n      <p className=\"text-white text-center\">{JSON.stringify(values)}</p>\n    </Base>\n  );\n};\n\nexport default Signup;\n","import React, { useState } from \"react\";\nimport Base from \"../core/Base\";\nimport { Redirect } from \"react-router-dom\";\n\nimport { signin, authenticate, isAutheticated } from \"../auth/helper\";\n\nconst Signin = () => {\n  const [values, setValues] = useState({\n    email: \"user1@gmail.com\",\n    password: \"123456\",\n    error: \"\",\n    loading: false,\n    didRedirect: false\n  });\n\n  const { email, password, error, loading, didRedirect } = values;\n  const { user } = isAutheticated();\n\n  const handleChange = name => event => {\n    setValues({ ...values, error: false, [name]: event.target.value });\n  };\n\n  const onSubmit = event => {\n    event.preventDefault();\n    setValues({ ...values, error: false, loading: true });\n    signin({ email, password })\n      .then(data => {\n        if (data.error) {\n          setValues({ ...values, error: data.error, loading: false });\n        } else {\n          authenticate(data, () => {\n            setValues({\n              ...values,\n              didRedirect: true\n            });\n          });\n        }\n      })\n      .catch(console.log(\"signin request failed\"));\n  };\n\n  const performRedirect = () => {\n    if (didRedirect) {\n      if (user && user.role === 1) {\n        return <Redirect to=\"/admin/dashboard\" />;\n      } else {\n        return <Redirect to=\"/user/dashboard\" />;\n      }\n    }\n    if (isAutheticated()) {\n      return <Redirect to=\"/\" />;\n    }\n  };\n\n  const loadingMessage = () => {\n    return (\n      loading && (\n        <div className=\"alert alert-info\">\n          <h2>Loading...</h2>\n        </div>\n      )\n    );\n  };\n\n  const errorMessage = () => {\n    return (\n      <div className=\"row\">\n        <div className=\"col-md-6 offset-sm-3 text-left\">\n          <div\n            className=\"alert alert-danger\"\n            style={{ display: error ? \"\" : \"none\" }}\n          >\n            {error}\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  const signInForm = () => {\n    return (\n      <div className=\"row\">\n        <div className=\"col-md-6 offset-sm-3 text-left\">\n          <form>\n            <div className=\"form-group\">\n              <label className=\"text-light\">Email</label>\n              <input\n                onChange={handleChange(\"email\")}\n                value={email}\n                className=\"form-control\"\n                type=\"email\"\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <label className=\"text-light\">Password</label>\n              <input\n                onChange={handleChange(\"password\")}\n                value={password}\n                className=\"form-control\"\n                type=\"password\"\n              />\n            </div>\n            <button onClick={onSubmit} className=\"btn btn-success btn-block\">\n              Submit\n            </button>\n          </form>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <Base title=\"Sign In page\" description=\"A page for user to sign in!\">\n      {loadingMessage()}\n      {errorMessage()}\n      {signInForm()}\n      {performRedirect()}\n\n      <p className=\"text-white text-center\">{JSON.stringify(values)}</p>\n    </Base>\n  );\n};\n\nexport default Signin;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { isAutheticated } from \"./index\";\n\nconst AdminRoute = ({ component: Component, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        isAutheticated() && isAutheticated().user.role === 1 ? (\n          <Component {...props} />\n        ) : (\n          <Redirect\n            to={{\n              pathname: \"/signin\",\n              state: { from: props.location }\n            }}\n          />\n        )\n      }\n    />\n  );\n};\n\nexport default AdminRoute;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { isAutheticated } from \"./index\";\n\nconst PrivateRoute = ({ component: Component, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        isAutheticated() ? (\n          <Component {...props} />\n        ) : (\n          <Redirect\n            to={{\n              pathname: \"/signin\",\n              state: { from: props.location }\n            }}\n          />\n        )\n      }\n    />\n  );\n};\n\nexport default PrivateRoute;\n","import React from \"react\";\nimport Base from \"../core/Base\";\n\nconst UserDashBoard = () => {\n  return (\n    <Base title=\"UserDashBoard page\">\n      <h1>THis is UserDashBoard page</h1>\n    </Base>\n  );\n};\n\nexport default UserDashBoard;\n","import React from \"react\";\nimport Base from \"../core/Base\";\nimport { isAutheticated } from \"../auth/helper/index\";\nimport { Link } from \"react-router-dom\";\n\nconst AdminDashBoard = () => {\n  const {\n    user: { name, email, role }\n  } = isAutheticated();\n\n  const adminLeftSide = () => {\n    return (\n      <div className=\"card\">\n        <h4 className=\"card-header bg-dark text-white\">Admin Navigation</h4>\n        <ul className=\"list-group\">\n          <li className=\"list-group-item\">\n            <Link to=\"/admin/create/category\" className=\"nav-link text-success\">\n              Create Categories\n            </Link>\n          </li>\n          <li className=\"list-group-item\">\n            <Link to=\"/admin/categories\" className=\"nav-link text-success\">\n              Manage Categories\n            </Link>\n          </li>\n          <li className=\"list-group-item\">\n            <Link to=\"/admin/create/product\" className=\"nav-link text-success\">\n              Create Product\n            </Link>\n          </li>\n          <li className=\"list-group-item\">\n            <Link to=\"/admin/products\" className=\"nav-link text-success\">\n              Manage Products\n            </Link>\n          </li>\n          <li className=\"list-group-item\">\n            <Link to=\"/admin/orders\" className=\"nav-link text-success\">\n              Manage Orders\n            </Link>\n          </li>\n        </ul>\n      </div>\n    );\n  };\n\n  const adminRightSide = () => {\n    return (\n      <div className=\"card mb-4\">\n        <h4 className=\"card-header\">Admin Information</h4>\n        <ul className=\"list-group\">\n          <li className=\"list-group-item\">\n            <span className=\"badge badge-success mr-2\">Name:</span> {name}\n          </li>\n          <li className=\"list-group-item\">\n            <span className=\"badge badge-success mr-2\">Email:</span> {email}\n          </li>\n\n          <li className=\"list-group-item\">\n            <span className=\"badge badge-danger\">Admin Area</span>\n          </li>\n        </ul>\n      </div>\n    );\n  };\n  return (\n    <Base\n      title=\"Welcome to admin area\"\n      description=\"Manage all of your products here\"\n      className=\"container bg-success p-4\"\n    >\n      <div className=\"row\">\n        <div className=\"col-3\">{adminLeftSide()}</div>\n        <div className=\"col-9\">{adminRightSide()}</div>\n      </div>\n    </Base>\n  );\n};\n\nexport default AdminDashBoard;\n","import { API } from \"../../backend\";\n\n//category calls\nexport const createCategory = (userId, token, category) => {\n  return fetch(`${API}/category/create/${userId}`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify(category)\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\n//get all categories\nexport const getCategories = () => {\n  return fetch(`${API}/categories`, {\n    method: \"GET\"\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\n// get single category\nexport const getCategory = categoryId => {\n  return fetch(`${API}/category/${categoryId}`, {\n    method: \"GET\"\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\n// update category\nexport const updateCategory = (categoryId, userId, token, category) => {\n  return fetch(`${API}/category/${categoryId}/${userId}`, {\n    method: \"PUT\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify(category)\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\n// delete category\nexport const deleteCategory = (categoryId, userId, token) => {\n  return fetch(`${API}/category/${categoryId}/${userId}`, {\n    method: \"DELETE\",\n    headers: {\n      Accept: \"application/json\",\n      Authorization: `Bearer ${token}`\n    }\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\n//products calls\n\n//create a product\nexport const createaProduct = (userId, token, product) => {\n  return fetch(`${API}/product/create/${userId}`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      Authorization: `Bearer ${token}`\n    },\n    body: product\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\n//get all products\nexport const getProducts = () => {\n  return fetch(`${API}/products`, {\n    method: \"GET\"\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\n//delete a product\n\nexport const deleteProduct = (productId, userId, token) => {\n  return fetch(`${API}/product/${productId}/${userId}`, {\n    method: \"DELETE\",\n    headers: {\n      Accept: \"application/json\",\n      Authorization: `Bearer ${token}`\n    }\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\n//get a product\n\nexport const getProduct = productId => {\n  return fetch(`${API}/product/${productId}`, {\n    method: \"GET\"\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n\n//update a product\n\nexport const updateProduct = (productId, userId, token, product) => {\n  return fetch(`${API}/product/${productId}/${userId}`, {\n    method: \"PUT\",\n    headers: {\n      Accept: \"application/json\",\n      Authorization: `Bearer ${token}`\n    },\n    body: product\n  })\n    .then(response => {\n      return response.json();\n    })\n    .catch(err => console.log(err));\n};\n","import React, { useState } from \"react\";\nimport Base from \"../core/Base\";\nimport { isAutheticated } from \"../auth/helper\";\nimport { Link } from \"react-router-dom\";\nimport { createCategory } from \"./helper/adminapicall\";\n\nconst AddCategory = () => {\n  const [name, setName] = useState(\"\");\n  const [error, setError] = useState(false);\n  const [success, setSuccess] = useState(false);\n\n  const { user, token } = isAutheticated();\n\n  const goBack = () => (\n    <div className=\"mt-5\">\n      <Link className=\"btn btn-sm btn-success mb-3\" to=\"/admin/dashboard\">\n        Admin Home\n      </Link>\n    </div>\n  );\n\n  const handleChange = event => {\n    setError(\"\");\n    setName(event.target.value);\n  };\n\n  const onSubmit = event => {\n    event.preventDefault();\n    setError(\"\");\n    setSuccess(false);\n\n    //backend request fired\n    createCategory(user._id, token, { name }).then(data => {\n      if (data.error) {\n        setError(true);\n      } else {\n        setError(\"\");\n        setSuccess(true);\n        setName(\"\");\n      }\n    });\n  };\n\n  const successMessage = () => {\n    if (success) {\n      return <h4 className=\"text-success\">Category created successfully</h4>;\n    }\n  };\n\n  const warningMessage = () => {\n    if (error) {\n      return <h4 className=\"text-success\">Failed to create category</h4>;\n    }\n  };\n\n  const myCategoryForm = () => (\n    <form>\n      <div className=\"form-group\">\n        <p className=\"lead\">Enter the category</p>\n        <input\n          type=\"text\"\n          className=\"form-control my-3\"\n          onChange={handleChange}\n          value={name}\n          autoFocus\n          required\n          placeholder=\"For Ex. Summer\"\n        />\n        <button onClick={onSubmit} className=\"btn btn-outline-info\">\n          Create Category\n        </button>\n      </div>\n    </form>\n  );\n\n  return (\n    <Base\n      title=\"Create a category here\"\n      description=\"Add a new category for new tshirts\"\n      className=\"container bg-info p-4\"\n    >\n      <div className=\"row bg-white rounded\">\n        <div className=\"col-md-8 offset-md-2\">\n          {successMessage()}\n          {warningMessage()}\n          {myCategoryForm()}\n          {goBack()}\n        </div>\n      </div>\n    </Base>\n  );\n};\n\nexport default AddCategory;\n","import React, { useState, useEffect } from \"react\";\n\nimport Base from \"../core/Base\";\nimport { Link } from \"react-router-dom\";\nimport { isAutheticated } from \"../auth/helper\";\nimport { deleteCategory, getCategories } from \"./helper/adminapicall\";\n\nconst ManageCategories = () => {\n  const [categories, setCategories] = useState([]);\n\n  const { user, token } = isAutheticated();\n\n  const preload = () => {\n    getCategories().then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setCategories(data);\n      }\n    });\n  };\n\n  useEffect(() => {\n    preload();\n  }, []);\n\n  const deleteThisCategory = categoryId => {\n    deleteCategory(categoryId, user._id, token).then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        preload();\n      }\n    });\n  };\n\n  return (\n    <Base title=\"Welcome admin\" description=\"Manage categories here\">\n      <h2 className=\"mb-4\">All Categories:</h2>\n      <Link className=\"btn btn-info\" to={`/admin/dashboard`}>\n        <span className=\"\">Admin Home</span>\n      </Link>\n      <div className=\"row\">\n        <div className=\"col-12\">\n          <h2 className=\"text-center text-white my-3\">Total Categories</h2>\n\n          {categories.map((category, index) => {\n            return (\n              <div key={index} className=\"row text-center mb-2 \">\n                <div className=\"col-4\">\n                  <h3 className=\"text-white text-left\">{category.name}</h3>\n                </div>\n                <div className=\"col-4\">\n                  <Link\n                    className=\"btn btn-success\"\n                    to={`/admin/category/update/${category._id}`}\n                  >\n                    <span className=\"\">Update</span>\n                  </Link>\n                </div>\n                <div className=\"col-4\">\n                  <button\n                    onClick={() => {\n                      deleteThisCategory(category._id);\n                    }}\n                    className=\"btn btn-danger\"\n                  >\n                    Delete\n                  </button>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </Base>\n  );\n};\n\nexport default ManageCategories;\n","import React, { useState, useEffect } from \"react\";\nimport Base from \"../core/Base\";\nimport { Link } from \"react-router-dom\";\nimport { getCategories, createaProduct } from \"./helper/adminapicall\";\nimport { isAutheticated } from \"../auth/helper/index\";\n\nconst AddProduct = () => {\n  const { user, token } = isAutheticated();\n\n  const [values, setValues] = useState({\n    name: \"\",\n    description: \"\",\n    price: \"\",\n    stock: \"\",\n    photo: \"\",\n    categories: [],\n    category: \"\",\n    loading: false,\n    error: \"\",\n    createdProduct: \"\",\n    getaRedirect: false,\n    formData: \"\"\n  });\n\n  const {\n    name,\n    description,\n    price,\n    stock,\n    categories,\n    category,\n    loading,\n    error,\n    createdProduct,\n    getaRedirect,\n    formData\n  } = values;\n\n  const preload = () => {\n    getCategories().then(data => {\n      //console.log(data);\n      if (data.error) {\n        setValues({ ...values, error: data.error });\n      } else {\n        setValues({ ...values, categories: data, formData: new FormData() });\n      }\n    });\n  };\n\n  useEffect(() => {\n    preload();\n  }, []);\n\n  const onSubmit = event => {\n    event.preventDefault();\n    setValues({ ...values, error: \"\", loading: true });\n    createaProduct(user._id, token, formData).then(data => {\n      if (data.error) {\n        setValues({ ...values, error: data.error });\n      } else {\n        setValues({\n          ...values,\n          name: \"\",\n          description: \"\",\n          price: \"\",\n          photo: \"\",\n          stock: \"\",\n          loading: false,\n          createdProduct: data.name\n        });\n      }\n    });\n  };\n\n  const handleChange = name => event => {\n    const value = name === \"photo\" ? event.target.files[0] : event.target.value;\n    formData.set(name, value);\n    setValues({ ...values, [name]: value });\n  };\n\n  const successMessage = () => (\n    <div\n      className=\"alert alert-success mt-3\"\n      style={{ display: createdProduct ? \"\" : \"none\" }}\n    >\n      <h4>{createdProduct} created successfully</h4>\n    </div>\n  );\n\n  const createProductForm = () => (\n    <form>\n      <span>Post photo</span>\n      <div className=\"form-group\">\n        <label className=\"btn btn-block btn-success\">\n          <input\n            onChange={handleChange(\"photo\")}\n            type=\"file\"\n            name=\"photo\"\n            accept=\"image\"\n            placeholder=\"choose a file\"\n          />\n        </label>\n      </div>\n      <div className=\"form-group\">\n        <input\n          onChange={handleChange(\"name\")}\n          name=\"photo\"\n          className=\"form-control\"\n          placeholder=\"Name\"\n          value={name}\n        />\n      </div>\n      <div className=\"form-group\">\n        <textarea\n          onChange={handleChange(\"description\")}\n          name=\"photo\"\n          className=\"form-control\"\n          placeholder=\"Description\"\n          value={description}\n        />\n      </div>\n      <div className=\"form-group\">\n        <input\n          onChange={handleChange(\"price\")}\n          type=\"number\"\n          className=\"form-control\"\n          placeholder=\"Price\"\n          value={price}\n        />\n      </div>\n      <div className=\"form-group\">\n        <select\n          onChange={handleChange(\"category\")}\n          className=\"form-control\"\n          placeholder=\"Category\"\n        >\n          <option>Select</option>\n          {categories &&\n            categories.map((cate, index) => (\n              <option key={index} value={cate._id}>\n                {cate.name}\n              </option>\n            ))}\n        </select>\n      </div>\n      <div className=\"form-group\">\n        <input\n          onChange={handleChange(\"stock\")}\n          type=\"number\"\n          className=\"form-control\"\n          placeholder=\"Stock\"\n          value={stock}\n        />\n      </div>\n\n      <button\n        type=\"submit\"\n        onClick={onSubmit}\n        className=\"btn btn-outline-success mb-3\"\n      >\n        Create Product\n      </button>\n    </form>\n  );\n\n  return (\n    <Base\n      title=\"Add a product here!\"\n      description=\"Welcome to product creation section\"\n      className=\"container bg-info p-4\"\n    >\n      <Link to=\"/admin/dashboard\" className=\"btn btn-md btn-dark mb-3\">\n        Admin Home\n      </Link>\n      <div className=\"row bg-dark text-white rounded\">\n        <div className=\"col-md-8 offset-md-2\">\n          {successMessage()}\n          {createProductForm()}\n        </div>\n      </div>\n    </Base>\n  );\n};\n\nexport default AddProduct;\n","import React, { useState, useEffect } from \"react\";\n\nimport Base from \"../core/Base\";\nimport { Link } from \"react-router-dom\";\nimport { isAutheticated } from \"../auth/helper\";\nimport { getProducts, deleteProduct } from \"./helper/adminapicall\";\n\nconst ManageProducts = () => {\n  const [products, setProducts] = useState([]);\n\n  const { user, token } = isAutheticated();\n\n  const preload = () => {\n    getProducts().then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setProducts(data);\n      }\n    });\n  };\n\n  useEffect(() => {\n    preload();\n  }, []);\n\n  const deleteThisProduct = productId => {\n    deleteProduct(productId, user._id, token).then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        preload();\n      }\n    });\n  };\n\n  return (\n    <Base title=\"Welcome admin\" description=\"Manage products here\">\n      <h2 className=\"mb-4\">All products:</h2>\n      <Link className=\"btn btn-info\" to={`/admin/dashboard`}>\n        <span className=\"\">Admin Home</span>\n      </Link>\n      <div className=\"row\">\n        <div className=\"col-12\">\n          <h2 className=\"text-center text-white my-3\">Total 3 products</h2>\n\n          {products.map((product, index) => {\n            return (\n              <div key={index} className=\"row text-center mb-2 \">\n                <div className=\"col-4\">\n                  <h3 className=\"text-white text-left\">{product.name}</h3>\n                </div>\n                <div className=\"col-4\">\n                  <Link\n                    className=\"btn btn-success\"\n                    to={`/admin/product/update/${product._id}`}\n                  >\n                    <span className=\"\">Update</span>\n                  </Link>\n                </div>\n                <div className=\"col-4\">\n                  <button\n                    onClick={() => {\n                      deleteThisProduct(product._id);\n                    }}\n                    className=\"btn btn-danger\"\n                  >\n                    Delete\n                  </button>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </Base>\n  );\n};\n\nexport default ManageProducts;\n","import React, { useState, useEffect } from \"react\";\nimport Base from \"../core/Base\";\nimport { Link } from \"react-router-dom\";\nimport { getCategories, getProduct, updateProduct } from \"./helper/adminapicall\";\nimport { isAutheticated } from \"../auth/helper/index\";\n\nconst UpdateProduct = ({ match }) => {\n  const { user, token } = isAutheticated();\n\n  const [values, setValues] = useState({\n    name: \"\",\n    description: \"\",\n    price: \"\",\n    stock: \"\",\n    photo: \"\",\n    categories: [],\n    category: \"\",\n    loading: false,\n    error: \"\",\n    createdProduct: \"\",\n    getaRedirect: false,\n    formData: \"\"\n  });\n\n  const {\n    name,\n    description,\n    price,\n    stock,\n    categories,\n    category,\n    loading,\n    error,\n    createdProduct,\n    getaRedirect,\n    formData\n  } = values;\n\n  const preload = productId => {\n    getProduct(productId).then(data => {\n      //console.log(data);\n      if (data.error) {\n        setValues({ ...values, error: data.error });\n      } else {\n        preloadCategories();\n        setValues({\n          ...values,\n          name: data.name,\n          description: data.description,\n          price: data.price,\n          category: data.category._id,\n          stock: data.stock,\n          formData: new FormData()\n        });\n      }\n    });\n  };\n\n  const preloadCategories = () => {\n    getCategories().then(data => {\n      if (data.error) {\n        setValues({ ...values, error: data.error });\n      } else {\n        setValues({\n          categories: data,\n          formData: new FormData()\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    preload(match.params.productId);\n  }, []);\n\n\n  const onSubmit = event => {\n    event.preventDefault();\n    setValues({ ...values, error: \"\", loading: true });\n\n    updateProduct(match.params.productId, user._id, token, formData).then(\n      data => {\n        if (data.error) {\n          setValues({ ...values, error: data.error });\n        } else {\n          setValues({\n            ...values,\n            name: \"\",\n            description: \"\",\n            price: \"\",\n            photo: \"\",\n            stock: \"\",\n            loading: false,\n            createdProduct: data.name\n          });\n        }\n      }\n    );\n  };\n\n  const handleChange = name => event => {\n    const value = name === \"photo\" ? event.target.files[0] : event.target.value;\n    formData.set(name, value);\n    setValues({ ...values, [name]: value });\n  };\n\n  const successMessage = () => (\n    <div\n      className=\"alert alert-success mt-3\"\n      style={{ display: createdProduct ? \"\" : \"none\" }}\n    >\n      <h4>{createdProduct} updated successfully</h4>\n    </div>\n  );\n\n  const createProductForm = () => (\n    <form>\n      <span>Post photo</span>\n      <div className=\"form-group\">\n        <label className=\"btn btn-block btn-success\">\n          <input\n            onChange={handleChange(\"photo\")}\n            type=\"file\"\n            name=\"photo\"\n            accept=\"image\"\n            placeholder=\"choose a file\"\n          />\n        </label>\n      </div>\n      <div className=\"form-group\">\n        <input\n          onChange={handleChange(\"name\")}\n          name=\"photo\"\n          className=\"form-control\"\n          placeholder=\"Name\"\n          value={name}\n        />\n      </div>\n      <div className=\"form-group\">\n        <textarea\n          onChange={handleChange(\"description\")}\n          name=\"photo\"\n          className=\"form-control\"\n          placeholder=\"Description\"\n          value={description}\n        />\n      </div>\n      <div className=\"form-group\">\n        <input\n          onChange={handleChange(\"price\")}\n          type=\"number\"\n          className=\"form-control\"\n          placeholder=\"Price\"\n          value={price}\n        />\n      </div>\n      <div className=\"form-group\">\n        <select\n          onChange={handleChange(\"category\")}\n          className=\"form-control\"\n          placeholder=\"Category\"\n        >\n          <option>Select</option>\n          {categories &&\n            categories.map((cate, index) => (\n              <option key={index} value={cate._id}>\n                {cate.name}\n              </option>\n            ))}\n        </select>\n      </div>\n      <div className=\"form-group\">\n        <input\n          onChange={handleChange(\"stock\")}\n          type=\"number\"\n          className=\"form-control\"\n          placeholder=\"Stock\"\n          value={stock}\n        />\n      </div>\n\n      <button\n        type=\"submit\"\n        onClick={onSubmit}\n        className=\"btn btn-outline-success mb-3\"\n      >\n        Update Product\n      </button>\n    </form>\n  );\n\n  return (\n    <Base\n      title=\"Add a product here!\"\n      description=\"Welcome to product creation section\"\n      className=\"container bg-info p-4\"\n    >\n      <Link to=\"/admin/dashboard\" className=\"btn btn-md btn-dark mb-3\">\n        Admin Home\n      </Link>\n      <div className=\"row bg-dark text-white rounded\">\n        <div className=\"col-md-8 offset-md-2\">\n          {successMessage()}\n          {createProductForm()}\n        </div>\n      </div>\n    </Base>\n  );\n};\n\nexport default UpdateProduct;\n","import React, { useEffect, useState } from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { isAutheticated } from \"../auth/helper\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {getCategory, updateCategory } from \"./helper/adminapicall\";\r\n\r\nconst UpdateCategory = ({ match }) => {\r\n    const [name, setName] = useState(\"\");\r\n    const [error, setError] = useState(false);\r\n    const [success, setSuccess] = useState(false);\r\n\r\n    const { user, token } = isAutheticated();\r\n\r\n    const goBack = () => (\r\n        <div className=\"mt-5\">\r\n            <Link className=\"btn btn-sm btn-success mb-3\" to=\"/admin/dashboard\">\r\n                Admin Home\r\n            </Link>\r\n        </div>\r\n    );\r\n\r\n    const preLoad = (categoryId) => {\r\n        getCategory(categoryId).then(data => {\r\n            if (data.error) {\r\n                setError(data.error)\r\n            } else {\r\n                setName(data.name);\r\n            }\r\n        }).catch(err => console.log(err))\r\n    }\r\n\r\n    useEffect(() => {\r\n        preLoad(match.params.categoryId);\r\n    }, [])\r\n\r\n    const handleChange = event => {\r\n        setError(\"\");\r\n        setName(event.target.value);\r\n    };\r\n\r\n    const onSubmit = event => {\r\n        event.preventDefault();\r\n        setError(\"\");\r\n        setSuccess(false);\r\n\r\n        //backend request fired\r\n        updateCategory(match.params.categoryId, user._id, token, { name }).then(data => {\r\n            if (data.error) {\r\n                setError(true);\r\n            } else {\r\n                setError(\"\");\r\n                setSuccess(true);\r\n                setName(\"\");\r\n            }\r\n        });\r\n    };\r\n\r\n    const successMessage = () => {\r\n        if (success) {\r\n            return <h4 className=\"text-success\">Category updated successfully</h4>;\r\n        }\r\n    };\r\n\r\n    const warningMessage = () => {\r\n        if (error) {\r\n            return <h4 className=\"text-danger\">Failed to update category</h4>;\r\n        }\r\n    };\r\n\r\n    const myCategoryForm = () => (\r\n        <form>\r\n            <div className=\"form-group\">\r\n                <p className=\"lead\">Enter the category</p>\r\n                <input\r\n                    type=\"text\"\r\n                    className=\"form-control my-3\"\r\n                    onChange={handleChange}\r\n                    value={name}\r\n                    autoFocus\r\n                    required\r\n                    placeholder=\"For Ex. Summer\"\r\n                />\r\n                <button onClick={onSubmit} className=\"btn btn-outline-info\">\r\n                    Update Category\r\n                </button>\r\n            </div>\r\n        </form>\r\n    );\r\n\r\n    return (\r\n        <Base\r\n            title=\"Create a category here\"\r\n            description=\"Add a new category for new tshirts\"\r\n            className=\"container bg-info p-4\"\r\n        >\r\n            <div className=\"row bg-white rounded\">\r\n                <div className=\"col-md-8 offset-md-2\">\r\n                    {successMessage()}\r\n                    {warningMessage()}\r\n                    {myCategoryForm()}\r\n                    {goBack()}\r\n                </div>\r\n            </div>\r\n        </Base>\r\n    );\r\n};\r\n\r\nexport default UpdateCategory;\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { cartEmpty, loadCart } from \"../admin/helper/cartHelper\";\r\nimport { isAutheticated } from \"../auth/helper\";\r\nimport StripeCheckoutButton from \"react-stripe-checkout\"\r\nimport { API } from \"../backend\";\r\n\r\nconst StripeCheckout = ({ products, setReload = f => f, reload = undefined }) => {\r\n\r\n    const [data, setData] = useState({\r\n        loading: false,\r\n        success: false,\r\n        error: \"\",\r\n        address: \"\"\r\n    })\r\n\r\n    const token = isAutheticated() && isAutheticated().token;\r\n    const userId = isAutheticated() && isAutheticated().user._id;\r\n\r\n    const getFinalPrice = () => {\r\n        let amount = 0;\r\n        products && products.map((p) => {\r\n            amount = amount + p.price;\r\n        });\r\n        return amount;\r\n    }\r\n\r\n    const makePayment = (token) => {\r\n        const body = {\r\n            token,\r\n            products\r\n        };\r\n\r\n        const headers = {\r\n            \"Content-Type\": \"application/json\"\r\n        };\r\n\r\n        return fetch(`${API}/stripepayment`, {\r\n            method: \"POST\",\r\n            headers,\r\n            body: JSON.stringify(body)\r\n        })\r\n            .then(response => {\r\n                const {status} = response;\r\n                console.log(\"STATUS \", status);\r\n                cartEmpty(() => {\r\n                    console.log(\"CART EMPTY ?\")\r\n                });\r\n            }).catch(err => console.log(err))\r\n    }\r\n\r\n    const showStripeButton = () => {\r\n        return isAutheticated() && products.length > 0 ? (\r\n            <StripeCheckoutButton stripeKey={process.env.REACT_APP_STRIPE_PUBLISH} token={makePayment} amount={getFinalPrice() * 100} name=\"Buy tshirts\" billingAddress shippingAddress>\r\n                <button className=\"btn btn-block btn-success\">Pay with stripe</button>\r\n            </StripeCheckoutButton>\r\n        ) : (\r\n            <h3>Please login or add more products to cart</h3>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h3 className=\"text-white\">Your stripe bill is  $ {getFinalPrice()}</h3>\r\n            {showStripeButton()}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default StripeCheckout;","import React, { useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { cartEmpty, loadCart } from '../admin/helper/cartHelper'\r\nimport { getToken, processPayment } from '../admin/helper/paymentBHelper'\r\nimport { isAutheticated } from '../auth/helper'\r\nimport DropIn from \"braintree-web-drop-in-react\"\r\nimport { createOrder } from '../admin/helper/orderHelper'\r\n\r\n\r\nfunction PaymentBCheckout({ products, setReload = f => f, reload = undefined }) {\r\n\r\n    const [info, setInfo] = useState({\r\n        loading: false,\r\n        success: false,\r\n        clientToken: null,\r\n        error: \"\",\r\n        instance: {}\r\n    })\r\n\r\n    const userId = isAutheticated() && isAutheticated().user._id;\r\n    const token = isAutheticated() && isAutheticated().token;\r\n\r\n    const getMeToken = (userId, token) => {\r\n        getToken(userId, token).then(info => {\r\n            if (info.error) {\r\n                setInfo({ ...info, error: info.error })\r\n            } else {\r\n                const clientToken = info.clientToken;\r\n                setInfo({ clientToken })\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        getMeToken(userId, token)\r\n    }, []);\r\n\r\n    const showbtdropIn = () => {\r\n        return (\r\n            <div>\r\n                {info.clientToken !== null && products.length > 0 && isAutheticated() ?\r\n                    (\r\n                        <div>\r\n                            <DropIn options={{ authorization: info.clientToken }} onInstance={instance => (info.instance = instance)} />\r\n                            <button className='btn btn-block btn-success' onClick={onPurchase}>Pay with PayPal</button>\r\n                        </div>\r\n                    )\r\n                    : (\r\n                        <h3>Please login or add more products to cart</h3>\r\n                    )}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const onPurchase = () => {\r\n        setInfo({ loading: true })\r\n        let nonce;\r\n        let getNonce = info.instance\r\n            .requestPaymentMethod()\r\n            .then(data => {\r\n                nonce = data.nonce\r\n                const paymentData = {\r\n                    paymentMethodNonce: nonce,\r\n                    amount: getAmount()\r\n                };\r\n                processPayment(userId, token, paymentData)\r\n                    .then(response => {\r\n                        setInfo({ ...info, success: response.success, loading: false });\r\n                        console.log(\"PAYMENT SUCCESS\");\r\n\r\n                        const orderData = {\r\n                            products: products,\r\n                            transaction_id: response.transaction.id,\r\n                            amount: response.transaction.amount\r\n                        }\r\n\r\n                        createOrder(userId, token, orderData)\r\n\r\n                        cartEmpty(() => {\r\n                            console.log(\"CART EMPTY\")\r\n                        });\r\n                        setReload(!reload);\r\n\r\n                    })\r\n                    .catch(err => {\r\n                        setInfo({ loading: false, success: false });\r\n                        console.log(\"PAYMENT FAILED\")\r\n                    })\r\n            })\r\n    }\r\n\r\n    const getAmount = () => {\r\n        let amount = 0;\r\n        products.map((p) => {\r\n            amount = amount + p.price\r\n        });\r\n        return amount;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h3>Your PayPal bill is ${getAmount()}</h3>\r\n            {showbtdropIn()}\r\n        </>\r\n\r\n    )\r\n}\r\n\r\nexport default PaymentBCheckout","import { API } from \"../../backend\";\r\n\r\nexport const getToken = (userId, token) => {\r\n    console.log(userId)\r\n    return fetch(`${API}/payment/gettoken/${userId}`, {\r\n        method: \"GET\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    }).then((res) => {\r\n        return res.json();\r\n    }).catch(err => console.log(err))\r\n}\r\n\r\nexport const processPayment = (userId, token, paymentInfo) => {\r\n    return fetch(`${API}/payment/braintree/${userId}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(paymentInfo)\r\n    }).then((res) => {\r\n        return res.json();\r\n    }).catch(err => console.log(err))\r\n}","import { API } from \"../../backend\";\r\n\r\nexport const createOrder = (userId, token, orderData) => {\r\n    return fetch(`${API}/order/create/${userId}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ order: orderData })\r\n    }).then(res => {\r\n        return res.json()\r\n    }).catch((err) => console.log(err))\r\n} ","import React, { useEffect, useState } from \"react\";\r\nimport \"../styles.css\";\r\nimport { API } from \"../backend\";\r\nimport Base from \"./Base\";\r\nimport Card from \"./Card\";\r\nimport { getProducts } from \"./helper/coreapicalls\";\r\nimport { loadCart } from \"../admin/helper/cartHelper\";\r\nimport StripeCheckout from \"./StripeCheckout\";\r\nimport PaymentBCheckout from \"./PaymentBCheckout\";\r\n\r\nconst Cart = () => {\r\n\r\n    const [products, setProducts] = useState([]);\r\n    const [reload, setReload] = useState(false)\r\n\r\n    useEffect(() => {\r\n        setProducts(loadCart())\r\n    }, [reload])\r\n\r\n\r\n    const loadAllProducts = () => {\r\n        return (\r\n            <div>\r\n                <h2>This is for load all products</h2>\r\n                {products && products.map((product, index) => {\r\n                    return (\r\n                        <Card product={product} addToCart={false} removeFromCart={true} key={index} setReload={setReload} reload={reload} />\r\n                    )\r\n                })}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const loadCheckout = () => {\r\n        return (\r\n            <>\r\n                <h2>Stripe Payment Method</h2>\r\n                {<StripeCheckout products={products} setReload={setReload} />}\r\n                <br/>\r\n                <h2>BrainTree (PayPal) Payment Method</h2>\r\n                <PaymentBCheckout products={products} setReload={setReload} />\r\n            </>\r\n        )\r\n    }\r\n\r\n\r\n    return (\r\n        <Base title=\"Cart Page\" description=\"Ready to check out\">\r\n            <div className=\"row text-center\">\r\n                <div className=\"col-6\">{products && products.length > 0 ? loadAllProducts() : (<h3>No products in cart</h3>)}</div>\r\n                <div className=\"col-6\">{loadCheckout()}</div>\r\n            </div>\r\n        </Base >\r\n    );\r\n}\r\n\r\nexport default Cart;\r\n","import React from \"react\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport Home from \"./core/Home\";\nimport Signup from \"./user/Signup\";\nimport Signin from \"./user/Signin\";\nimport AdminRoute from \"./auth/helper/AdminRoutes\";\nimport PrivateRoute from \"./auth/helper/PrivateRoutes\";\nimport UserDashBoard from \"./user/UserDashBoard\";\nimport AdminDashBoard from \"./user/AdminDashBoard\";\nimport AddCategory from \"./admin/AddCategory\";\nimport ManageCategories from \"./admin/ManageCategories\";\nimport AddProduct from \"./admin/AddProduct\";\nimport ManageProducts from \"./admin/ManageProducts\";\nimport UpdateProduct from \"./admin/UpdateProduct\";\nimport UpdateCategory from \"./admin/UpdateCategory\";\nimport Cart from \"./core/Cart\";\n\nconst Routes = () => {\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route path=\"/\" exact component={Home} />\n        <Route path=\"/signup\" exact component={Signup} />\n        <Route path=\"/signin\" exact component={Signin} />\n        <PrivateRoute path=\"/user/dashboard\" exact component={UserDashBoard} />\n        <AdminRoute path=\"/admin/dashboard\" exact component={AdminDashBoard} />\n        <AdminRoute\n          path=\"/admin/create/category\"\n          exact\n          component={AddCategory}\n        />\n        <AdminRoute\n          path=\"/admin/categories\"\n          exact\n          component={ManageCategories}\n        />\n        <AdminRoute path=\"/admin/create/product\" exact component={AddProduct} />\n\n        <AdminRoute path=\"/admin/products\" exact component={ManageProducts} />\n        <AdminRoute\n          path=\"/admin/product/update/:productId\"\n          exact\n          component={UpdateProduct}\n        />\n        <AdminRoute\n          path=\"/admin/category/update/:categoryId\"\n          exact\n          component={UpdateCategory}\n        />\n\n        <Route path=\"/cart\" exact component={Cart} />\n\n      </Switch>\n    </BrowserRouter>\n  );\n};\n\nexport default Routes;\n","import React from \"react\";\nimport Routes from \"./Routes\";\nimport ReactDOM from \"react-dom\";\n\nReactDOM.render(<Routes />, document.getElementById(\"root\"));\n"],"sourceRoot":""}